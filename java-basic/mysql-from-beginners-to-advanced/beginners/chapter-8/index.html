<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第08章_聚合函数 | Bombax&#39;s Knowledge Document Notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="技术知识学习笔记">
    <meta name="keywords" content="技术知识学习笔记">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.a5ee4d2c.css" as="style"><link rel="preload" href="/assets/js/app.1f9bc03c.js" as="script"><link rel="preload" href="/assets/js/3.be9e7e99.js" as="script"><link rel="preload" href="/assets/js/2.c36d0987.js" as="script"><link rel="preload" href="/assets/js/36.a17d9cce.js" as="script"><link rel="prefetch" href="/assets/js/1.0094a9f8.js"><link rel="prefetch" href="/assets/js/10.57dc9feb.js"><link rel="prefetch" href="/assets/js/100.549e8107.js"><link rel="prefetch" href="/assets/js/101.cdc9900a.js"><link rel="prefetch" href="/assets/js/102.559eb4e1.js"><link rel="prefetch" href="/assets/js/103.e93e873a.js"><link rel="prefetch" href="/assets/js/104.f72a97fa.js"><link rel="prefetch" href="/assets/js/105.8a88aff1.js"><link rel="prefetch" href="/assets/js/106.a6928366.js"><link rel="prefetch" href="/assets/js/107.88f8c8a9.js"><link rel="prefetch" href="/assets/js/108.221fcd72.js"><link rel="prefetch" href="/assets/js/109.83b01a4c.js"><link rel="prefetch" href="/assets/js/11.95ba941a.js"><link rel="prefetch" href="/assets/js/110.3a8bfc21.js"><link rel="prefetch" href="/assets/js/111.e09a67c7.js"><link rel="prefetch" href="/assets/js/112.8f29c828.js"><link rel="prefetch" href="/assets/js/113.a3ec218a.js"><link rel="prefetch" href="/assets/js/114.46baaf9a.js"><link rel="prefetch" href="/assets/js/115.dca2a47e.js"><link rel="prefetch" href="/assets/js/116.95b35ab7.js"><link rel="prefetch" href="/assets/js/117.748a7942.js"><link rel="prefetch" href="/assets/js/118.9baa4784.js"><link rel="prefetch" href="/assets/js/119.c98d396a.js"><link rel="prefetch" href="/assets/js/12.3e375fac.js"><link rel="prefetch" href="/assets/js/120.c56ebb20.js"><link rel="prefetch" href="/assets/js/121.0046ecb9.js"><link rel="prefetch" href="/assets/js/122.9266562d.js"><link rel="prefetch" href="/assets/js/123.607dd163.js"><link rel="prefetch" href="/assets/js/124.f902b1cd.js"><link rel="prefetch" href="/assets/js/125.a1fc58d3.js"><link rel="prefetch" href="/assets/js/126.0f7e19b0.js"><link rel="prefetch" href="/assets/js/127.0849390a.js"><link rel="prefetch" href="/assets/js/128.948551ba.js"><link rel="prefetch" href="/assets/js/129.d9ca416a.js"><link rel="prefetch" href="/assets/js/13.e15907e1.js"><link rel="prefetch" href="/assets/js/130.24c7e3fb.js"><link rel="prefetch" href="/assets/js/131.1b011ee5.js"><link rel="prefetch" href="/assets/js/132.8751add7.js"><link rel="prefetch" href="/assets/js/133.715ef8cf.js"><link rel="prefetch" href="/assets/js/14.8bc7a04e.js"><link rel="prefetch" href="/assets/js/15.45052e8a.js"><link rel="prefetch" href="/assets/js/16.9c02512f.js"><link rel="prefetch" href="/assets/js/17.48a859d1.js"><link rel="prefetch" href="/assets/js/18.5c00cde2.js"><link rel="prefetch" href="/assets/js/19.a40de13b.js"><link rel="prefetch" href="/assets/js/20.df43b03f.js"><link rel="prefetch" href="/assets/js/21.ceeba2d0.js"><link rel="prefetch" href="/assets/js/22.1bba0f00.js"><link rel="prefetch" href="/assets/js/23.76e4c23a.js"><link rel="prefetch" href="/assets/js/24.f9c3a106.js"><link rel="prefetch" href="/assets/js/25.d3ac7e27.js"><link rel="prefetch" href="/assets/js/26.2dccc980.js"><link rel="prefetch" href="/assets/js/27.470222d7.js"><link rel="prefetch" href="/assets/js/28.0083644b.js"><link rel="prefetch" href="/assets/js/29.c51b5005.js"><link rel="prefetch" href="/assets/js/30.e4d96a02.js"><link rel="prefetch" href="/assets/js/31.a6e5f592.js"><link rel="prefetch" href="/assets/js/32.f513417c.js"><link rel="prefetch" href="/assets/js/33.a02e512f.js"><link rel="prefetch" href="/assets/js/34.828ac0a3.js"><link rel="prefetch" href="/assets/js/35.6a8d3b2a.js"><link rel="prefetch" href="/assets/js/37.b28188f4.js"><link rel="prefetch" href="/assets/js/38.6c0bad74.js"><link rel="prefetch" href="/assets/js/39.4ac705c3.js"><link rel="prefetch" href="/assets/js/4.80fad3d6.js"><link rel="prefetch" href="/assets/js/40.e1295e6b.js"><link rel="prefetch" href="/assets/js/41.ab0dc1d3.js"><link rel="prefetch" href="/assets/js/42.abf81f78.js"><link rel="prefetch" href="/assets/js/43.c6055770.js"><link rel="prefetch" href="/assets/js/44.2adf0a62.js"><link rel="prefetch" href="/assets/js/45.dfeaf4aa.js"><link rel="prefetch" href="/assets/js/46.4b7c2b21.js"><link rel="prefetch" href="/assets/js/47.d4a6831e.js"><link rel="prefetch" href="/assets/js/48.e1366a45.js"><link rel="prefetch" href="/assets/js/49.1bebc46f.js"><link rel="prefetch" href="/assets/js/5.1478cf6c.js"><link rel="prefetch" href="/assets/js/50.668f9cb0.js"><link rel="prefetch" href="/assets/js/51.dea0d5d9.js"><link rel="prefetch" href="/assets/js/52.3000ebc8.js"><link rel="prefetch" href="/assets/js/53.66f5ad34.js"><link rel="prefetch" href="/assets/js/54.319b0662.js"><link rel="prefetch" href="/assets/js/55.ffc0758d.js"><link rel="prefetch" href="/assets/js/56.b67a2b8d.js"><link rel="prefetch" href="/assets/js/57.70e2950c.js"><link rel="prefetch" href="/assets/js/58.a0a2420f.js"><link rel="prefetch" href="/assets/js/59.01790419.js"><link rel="prefetch" href="/assets/js/6.3409ab2f.js"><link rel="prefetch" href="/assets/js/60.43219c1e.js"><link rel="prefetch" href="/assets/js/61.ed48312b.js"><link rel="prefetch" href="/assets/js/62.62ea2fef.js"><link rel="prefetch" href="/assets/js/63.d1527c65.js"><link rel="prefetch" href="/assets/js/64.b10abcac.js"><link rel="prefetch" href="/assets/js/65.2206c2d8.js"><link rel="prefetch" href="/assets/js/66.bd612805.js"><link rel="prefetch" href="/assets/js/67.ad9c475a.js"><link rel="prefetch" href="/assets/js/68.7f975389.js"><link rel="prefetch" href="/assets/js/69.36725aff.js"><link rel="prefetch" href="/assets/js/70.b3cfc9e1.js"><link rel="prefetch" href="/assets/js/71.ef2c6abc.js"><link rel="prefetch" href="/assets/js/72.77bf484b.js"><link rel="prefetch" href="/assets/js/73.ca8e0259.js"><link rel="prefetch" href="/assets/js/74.9aa20efa.js"><link rel="prefetch" href="/assets/js/75.9de36ec8.js"><link rel="prefetch" href="/assets/js/76.79e8f077.js"><link rel="prefetch" href="/assets/js/77.a71d38fe.js"><link rel="prefetch" href="/assets/js/78.2168cfa5.js"><link rel="prefetch" href="/assets/js/79.d830dc29.js"><link rel="prefetch" href="/assets/js/80.ed07f097.js"><link rel="prefetch" href="/assets/js/81.036542c0.js"><link rel="prefetch" href="/assets/js/82.ccd57590.js"><link rel="prefetch" href="/assets/js/83.08279d07.js"><link rel="prefetch" href="/assets/js/84.fb82a36b.js"><link rel="prefetch" href="/assets/js/85.cc257bf7.js"><link rel="prefetch" href="/assets/js/86.9b4a4d60.js"><link rel="prefetch" href="/assets/js/87.be2fbadd.js"><link rel="prefetch" href="/assets/js/88.5dbe3bf4.js"><link rel="prefetch" href="/assets/js/89.baa4fea0.js"><link rel="prefetch" href="/assets/js/9.9ffa17fb.js"><link rel="prefetch" href="/assets/js/90.0b8138d9.js"><link rel="prefetch" href="/assets/js/91.6c5e4907.js"><link rel="prefetch" href="/assets/js/92.d4a76597.js"><link rel="prefetch" href="/assets/js/93.8a94df70.js"><link rel="prefetch" href="/assets/js/94.ed88a857.js"><link rel="prefetch" href="/assets/js/95.2f75b854.js"><link rel="prefetch" href="/assets/js/96.6946c831.js"><link rel="prefetch" href="/assets/js/97.b26e97d9.js"><link rel="prefetch" href="/assets/js/98.07ba851b.js"><link rel="prefetch" href="/assets/js/99.347e0865.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cc39ba74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a5ee4d2c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.webp" alt="Bombax's Knowledge Document Notes" class="logo"> <span class="site-name can-hide">Bombax's Knowledge Document Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><a href="/java-basic/" class="link-title router-link-active">Java基础</a> <span class="title" style="display:none;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-learning/" class="nav-link">尚硅谷Java学习</a></li><li class="dropdown-subitem"><a href="/java-basic/software-install-config/" class="nav-link">基础软件安装与配置</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-from-entry-to-proficiency/" class="nav-link">Java从入门到精通(JDK17版)</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/" class="nav-link router-link-active">MySQL从入门到高级-基础篇</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/" class="nav-link">MySQL从入门到高级-高级篇</a></li><li class="dropdown-subitem"><a href="/java-basic/jdbc-core/" class="nav-link">JDBC 核心技术(JDK21版)</a></li><li class="dropdown-subitem"><a href="/java-basic/java-web/" class="nav-link">JavaWeb 技术</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/pojo/" class="nav-link">POJO 概念</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务核心" class="dropdown-title"><a href="/micro-service-core/" class="link-title">微服务核心</a> <span class="title" style="display:none;">微服务核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud-Alibaba/" class="nav-link">SpringCloud-Alibaba</a></li></ul></li><li class="dropdown-item"><h4>持久层框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/micro-service-core/MyBatisPlus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>相关知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/20b7dd/" class="nav-link">Mybatis 代码生成工具比较</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务生态" class="dropdown-title"><a href="/micro-service-ecology/" class="link-title">微服务生态</a> <span class="title" style="display:none;">微服务生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安全框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/SpringSecurity/" class="nav-link">安全框架之 Spring Security</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/Shiro/" class="nav-link">安全框架之 Shiro</a></li></ul></li><li class="dropdown-item"><h4>定时任务框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/Quartz/" class="nav-link">定时任务框架之 Quartz</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/XXL-JOB/" class="nav-link">定时任务框架之 XXL-JOB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用工具" class="dropdown-title"><a href="/tools/" class="link-title">实用工具</a> <span class="title" style="display:none;">实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/java-logs/" class="nav-link">Java 日志热门框架</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git 常用命令</a></li><li class="dropdown-item"><!----> <a href="/tools/swagger/" class="nav-link">Swagger API 文档生成工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weibocom/motan/wiki/zh_overview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Motan RPC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.knowledgedict.com/tutorial/lombok-intro.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Tutorial
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://projectlombok.org/features/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Features
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/fastjson2/wiki/fastjson2_intro_cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FastJSON2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://felord.cn/_doc/spring/5.x.RELEASE/_book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Framework 5 中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://x-stream.github.io/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XStream
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://neoremind.com/2016/02/java%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E9%AA%8C%E8%AF%81%E6%A1%86%E6%9E%B6fluent-validator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fluent-validator 业务逻辑验证框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ehcache.org/documentation/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ehcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/jetcache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jetcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caffeine.gitbook.io/caffeine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  caffeine 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://springdoc.cn/spring/integration.html#cache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Cache
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/imyjy/p/15695160.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主流缓存框架调研
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  redisson 官方中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/u012934325/article/details/100652805" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 中文学习指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.liquibase.com/concepts/introduction-to-liquibase.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/coderofmutou/coderofmutou.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.webp"> <div class="blogger-info"><h3>bombax</h3> <span>小小程序猿</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><a href="/java-basic/" class="link-title router-link-active">Java基础</a> <span class="title" style="display:none;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-learning/" class="nav-link">尚硅谷Java学习</a></li><li class="dropdown-subitem"><a href="/java-basic/software-install-config/" class="nav-link">基础软件安装与配置</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-from-entry-to-proficiency/" class="nav-link">Java从入门到精通(JDK17版)</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/" class="nav-link router-link-active">MySQL从入门到高级-基础篇</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/" class="nav-link">MySQL从入门到高级-高级篇</a></li><li class="dropdown-subitem"><a href="/java-basic/jdbc-core/" class="nav-link">JDBC 核心技术(JDK21版)</a></li><li class="dropdown-subitem"><a href="/java-basic/java-web/" class="nav-link">JavaWeb 技术</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/pojo/" class="nav-link">POJO 概念</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务核心" class="dropdown-title"><a href="/micro-service-core/" class="link-title">微服务核心</a> <span class="title" style="display:none;">微服务核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud-Alibaba/" class="nav-link">SpringCloud-Alibaba</a></li></ul></li><li class="dropdown-item"><h4>持久层框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/micro-service-core/MyBatisPlus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>相关知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/20b7dd/" class="nav-link">Mybatis 代码生成工具比较</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务生态" class="dropdown-title"><a href="/micro-service-ecology/" class="link-title">微服务生态</a> <span class="title" style="display:none;">微服务生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安全框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/SpringSecurity/" class="nav-link">安全框架之 Spring Security</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/Shiro/" class="nav-link">安全框架之 Shiro</a></li></ul></li><li class="dropdown-item"><h4>定时任务框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/Quartz/" class="nav-link">定时任务框架之 Quartz</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/XXL-JOB/" class="nav-link">定时任务框架之 XXL-JOB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用工具" class="dropdown-title"><a href="/tools/" class="link-title">实用工具</a> <span class="title" style="display:none;">实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/java-logs/" class="nav-link">Java 日志热门框架</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git 常用命令</a></li><li class="dropdown-item"><!----> <a href="/tools/swagger/" class="nav-link">Swagger API 文档生成工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weibocom/motan/wiki/zh_overview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Motan RPC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.knowledgedict.com/tutorial/lombok-intro.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Tutorial
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://projectlombok.org/features/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Features
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/fastjson2/wiki/fastjson2_intro_cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FastJSON2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://felord.cn/_doc/spring/5.x.RELEASE/_book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Framework 5 中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://x-stream.github.io/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XStream
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://neoremind.com/2016/02/java%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E9%AA%8C%E8%AF%81%E6%A1%86%E6%9E%B6fluent-validator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fluent-validator 业务逻辑验证框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ehcache.org/documentation/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ehcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/jetcache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jetcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caffeine.gitbook.io/caffeine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  caffeine 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://springdoc.cn/spring/integration.html#cache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Cache
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/imyjy/p/15695160.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主流缓存框架调研
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  redisson 官方中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/u012934325/article/details/100652805" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 中文学习指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.liquibase.com/concepts/introduction-to-liquibase.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/coderofmutou/coderofmutou.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>核心</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Java从入门到精通(JDK17版)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>MySQL从入门到高级-基础篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-0/" class="sidebar-link">第00章_写在前面</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-1/" class="sidebar-link">第01章_数据库概述</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-2/" class="sidebar-link">第02章_MySQL 环境搭建</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-3/" class="sidebar-link">第03章_基本的 SELECT 语句</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-4/" class="sidebar-link">第04章_运算符</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-5/" class="sidebar-link">第05章_排序与分页</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/" class="sidebar-link">第06章_多表查询</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/" class="sidebar-link">第07章_单行函数</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/" aria-current="page" class="active sidebar-link">第08章_聚合函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_1-聚合函数介绍" class="sidebar-link">1. 聚合函数介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_1-1-avg-和-sum-函数" class="sidebar-link">1.1 AVG 和 SUM 函数</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_1-2-min-和-max-函数" class="sidebar-link">1.2 MIN 和 MAX 函数</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_1-3-count-函数" class="sidebar-link">1.3 COUNT 函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_2-group-by" class="sidebar-link">2. GROUP BY</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_2-1-基本使用" class="sidebar-link">2.1 基本使用</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_2-2-使用多个列分组" class="sidebar-link">2.2 使用多个列分组</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_2-3-group-by-中使用-with-rollup" class="sidebar-link">2.3 GROUP BY 中使用 WITH ROLLUP</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_3-having" class="sidebar-link">3. HAVING</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_3-1-基本使用" class="sidebar-link">3.1 基本使用</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_3-2-where-和-having-的对比" class="sidebar-link">3.2 WHERE 和 HAVING 的对比</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_4-select-的执行过程" class="sidebar-link">4. SELECT 的执行过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_4-1-查询的结构" class="sidebar-link">4.1 查询的结构</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_4-2-select-执行顺序" class="sidebar-link">4.2 SELECT 执行顺序</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#_4-3-sql-的执行原理" class="sidebar-link">4.3 SQL 的执行原理</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#课堂笔记-sql" class="sidebar-link">课堂笔记 SQL</a></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/#课后练习-sql" class="sidebar-link">课后练习 SQL</a></li></ul></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-9/" class="sidebar-link">第09章_子查询</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-10/" class="sidebar-link">第10章_创建和管理表</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-11/" class="sidebar-link">第11章_数据处理之增删改</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-12/" class="sidebar-link">第12章_MySQL 数据类型精讲</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-13/" class="sidebar-link">第13章_约束</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-14/" class="sidebar-link">第14章_视图</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-15/" class="sidebar-link">第15章_存储过程与函数</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-16/" class="sidebar-link">第16章_变量、流程控制与游标</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-17/" class="sidebar-link">第17章_触发器</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-18/" class="sidebar-link">第18章_MySQL8 其它新特性</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>MySQL从入门到高级-高级篇</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/java-basic/jdbc-core/" class="sidebar-link">JDBC 核心技术(JDK21版)</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>JavaWeb技术</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=Java%E5%9F%BA%E7%A1%80" title="分类" data-v-06225672>Java基础</a></li><li data-v-06225672><a href="/categories/?category=%E6%A0%B8%E5%BF%83" title="分类" data-v-06225672>核心</a></li><li data-v-06225672><a href="/categories/?category=MySQL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E9%AB%98%E7%BA%A7-%E5%9F%BA%E7%A1%80%E7%AF%87" title="分类" data-v-06225672>MySQL从入门到高级-基础篇</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/coderofmutou" target="_blank" title="作者" class="beLink" data-v-06225672>bombax</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-01-20</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">第08章_聚合函数<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="第-08-章-聚合函数"><a href="#第-08-章-聚合函数" class="header-anchor">#</a> 第 08 章_聚合函数</h1> <p>讲师：尚硅谷-宋红康（江湖人称：康师傅）</p> <p>官网：<a href="http://www.atguigu.com/" target="_blank" rel="noopener noreferrer">http://www.atguigu.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>我们上一章讲到了 SQL 单行函数。实际上 SQL 函数还有一类，叫做聚合（或聚集、分组）函数，它是对一组数据进行汇总的函数，输入的是一组数据的集合，输出的是单个值。</p> <h2 id="_1-聚合函数介绍"><a href="#_1-聚合函数介绍" class="header-anchor">#</a> 1. 聚合函数介绍</h2> <ul><li><strong>什么是聚合函数</strong></li></ul> <p>聚合函数作用于一组数据，并对一组数据返回一个值。</p> <p><img src="/assets/img/1554980924940.b6a0d318.webp" alt="1554980924940"></p> <ul><li><p><strong>聚合函数类型</strong></p> <ul><li><strong>AVG()</strong></li> <li><strong>SUM()</strong></li> <li><strong>MAX()</strong></li> <li><strong>MIN()</strong></li> <li><strong>COUNT()</strong></li></ul></li> <li><p>聚合函数语法</p></li></ul> <p><img src="/assets/img/1554981029920.95809a65.webp" alt="1554981029920"></p> <ul><li>聚合函数不能嵌套调用。比如不能出现类似 <code>AVG(SUM(字段名称))</code> 形式的调用。</li></ul> <h3 id="_1-1-avg-和-sum-函数"><a href="#_1-1-avg-和-sum-函数" class="header-anchor">#</a> 1.1 AVG 和 SUM 函数</h3> <p>可以对<strong>数值型数据</strong>使用 AVG 和 SUM 函数。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> job_id <span class="token operator">LIKE</span> <span class="token string">'%REP%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="data:image/webp;base64,UklGRuYRAABXRUJQVlA4INoRAABQWACdASr4AjgAPpFCmkslo6KhpDPcWLASCWNu7mAJyG4L8D+hc1UON1d8D3yf6v+zPuA/RfTY/3PqI/cD1B/t96u/+39Qn9s9QD/Fei//z/YK/rn+x///uAfsh6b/7ufBb/hP/T7BvmAf//1AOqv6Qf0n8EfAb+vfkV5z+UT2n7YeuJ/D/wDzh9GeaX8m+un4v+5e5T9d/zP8N/oHl/78tQL1N/r96LyLzAvdT55/pv7l+7H9e9J39C9APxz+bewB+lv/A/qvrh/fv9N/a/PG+e/5D6ZvsI/ln9m/7n5JfK9+9/9n/Of3n9oPaV8/f+v/M/AR/N/6F/pv8N/hf2B+cH17fuv7HH68ff+WdnVUw8a0rZiKmIJYH7NhE2Wx/YDKFOo5RTmvZwRj/Liv6Z/JMHfGhpcJZYVGxXse600hyi8DuGFWOO4/c0RTRL+Rs5WlF2CyrOJRDOrKmVL/2JxGmAAXT8cfuMLwCWV5UtHUUfXZr2vDjAlKZUeyXMCWqKyvrgRAyUbyKrDqaWpRvx9gM+DuO8EkvoU/aUxFrPK1kw4LisMWOTyuynpcr/GH2qv+9ImXHLqfaL/I3qXTi0uxlT79Mi4WViVm0F3PvrLIwjLc90RcGRsvaSj88Bj4CPdQj5vTetEgfoa4QJf0cOAzcfV5HxsMKkr5dWOQLj+b1emda0wdD0amE6VDryiIcIAdptAcuxOqI4QUb8ZyBt0zgh/P01QbyIa85ZIEH49rTLlkC5AjbPi6rZDL/LFOS5/UjUkxDW7gUXydsinPdNuFBsjwERTsPYkv+zCPUr9EEoXXAPS16orcBA080zhAFq/zuP735BXD/gMml0rc+CEWGqXkkbp3JVsqEBtVz18aed0X1lkv5giKPzX9/K8wgL1a8TYX25nrTjAXq14nNHz7vtzO7xObHB8UrK2d/yUzdWvE5scHo/EVzywAAP6mBdJJAHDfJm8avI01dbc2TlgFweyIjMNaL/gSHzsfh4h93HPwwfJ8qSkVHcH7wzMXy/r6p7ul4/ij/4HfZ5sATzDwbURe3df+vOT6idGGoGMIRF20aZFTSoYOjQt0YfD3nCIiLZzENX4opc4CBEO4PQbyYcvIn3rldrZ8ExfTmabn+XB7DvFLcs2fz5qaju/Vcbc2d7eVLaLHIQ+qLONy+RWizuI95kTxcZXeWFfVlpRHXF8SZjqd175wahFyv/AEBqTBu5+y7bpbx1udIgZ5RuJbUrN0qRP2dmjjpnIkHHsoXGMWleHxBy5wda0NvKAgoSJhSvWa4A+8PEi+X6dsqocKUVzv1d/Zh+miH90d06l7DRnaLV2UKcXXW0fTLd6oqUrofqxlfub/UAHjV6DPm3fr2zXHYbi+5+F6rkIaAjk+DLA+fGnAprdaw1qcnl2Fnfy7+2WCYt//BuwB9HOPLhdVIfus/oW5fjZw8UkG97i3uLhkhk1krccLWlNiDIJvhxRvFUPybTYLO3Er0HXXV2sVPVLtosLcgG+qJ3qrzZv8ftRj0tm/WmxncsGUZgoeOrnbkQeskzs79s0S8VC3RRrOaonbnTyGFhYcNBoA+qyKYfKWp7l5tqOYbQnYlM4X8TOqVjkjEm/NhaO1m95VdZuaWNX8ioe1+CypiFhmUQFbBK9tLqJeZwSM5ZcIKNMmD7Innmr9jg5gkGbXqAqt471XMlCvXsIYWPpJzQWHMgg/eWuTWNVYEMBGjcUTZpWDsJnMEyPuVIjVPRYIH6LlNqCqqL30E6Qi34fCsX2vjlrkL8LwRs9vL/5J3tFjHk7DwSgPiGrhBVNngUXy/+DdgEzaG7AJ2owBoeq+PQubQ1xFGL5U9bQU03txrtbeA/F00f7htYZqlQY8A6VHd8/1g9h3iluWbP581NR3iJHTrM04n4tnnjSmLvjlEFVlavcvKHl3Z4LKV4poDUzYYOyY83wcW/Lp8SlMjmoHDY5nGmAfixcN0o0iKnJB4HpwGFQJZCKeF+6a45DvzEU5WBXTfYviFylOKc1wa98mZ/H7Xl+G/djxuf9hXsU++bzi+NhXnbtVoj21C4SsyStEsK5jBWj1pAD2sL6Zcdxt982I2cuxfAAkT3YLcmR7SDbTzZnm3GBTjmmCEYyLioDRFduzDfLY/B9AZg3VKYaT5SzIhcY6QAJajruZcN92NZBzZIwGJElcC72aCNACT8vE0Z93oviOlUW25SGOKWHzNHtpIa2SYqQO0TywvghDt8Ml9xc3rJAPYWeX9hJWU94N5j/yqYRjS6+PGuMMixEJRtzX353b0HsSS/KhmncGbE15X/qblBt4TBUlwf9XF4MynGHf9li9CU7ikhQNtynZTykDogpHI81CglHwo+yoFwR4hJVn5g5nGUy20D+8bUGDTbJxoDUh7vR2kuTLz2gsktANjj7VRzGRx6K8tqjrgDpHvedWB8LbXaloQ1C3orYONS1sjkSjjhkHjp77Xe+Q3Edi7dWbMDI3yeV9n8Ai09AfeFCKlhn4/9vRHgQ2eT01JXpEtUexY4GkNRWktonV8QymO45XrC7g9c6qUrvcj8zlyrnR8INGPcMz4bHBE4W9HnAeJ73alcMeMF4wqD2OeRE9O1j5XlJR6I6I+WCsGIwgTqdEEAZ57C39d9W69MAGwB4B7kHn3/JVS6VwLgvgfLKkVt4zQhVWSvvb6H7ykfjcUPZl0bys0fS65IJ9KLOGaNCBWa3ntogw6hIB3Gfkj+NMWtqyHuiotq5b70xmBwANBlAXWK6cinhXRtlFEZinW+JTy4y8Mc0tTXeTdA4+Tu3pZh+CKZYFj4YfmxJ1OFPivtoygrNGDd53crfvRiBH9CMiecaR8q1KUT04fs5FEsCQ1YFIw4MGEuqd8axXzHtKsReCREen6xmaVGyrhPGYzJQQjthRFE11axUZPW2MZBmoUDBrDZLh7yd7XwgmmAsWYaVfrVxgNHhzx0s/Vll8ctQ9eD7nxJXVJvIgW91SRfXC1udcm+olYXGzyC22F6FGNGLHRoVedxNMQ7sm2IJ1sgCqJiQr+4gM7V0Hf6425dwlRQ8Z75biHv+yMl1G/piDVXSUgJTCsULyS2ajAEZOxFgd52utziwVRTId4ae6SWCs7e/+PoyXjSys/31u+TNcMMdiAt3o9MYevB5FQTUuQjmETBO9bVXe+TaiKLkppb3zipCuDZ0zucYKsxsVU4wDV4UaYBhjf92uQIJbygkofoB+RzLDTGsrWN54ezeBBaXn7fNGJVZnfyNrEhPJuR3zFzY669zK2xMsowMVmk4pnH01UkBroxmIpVl/MFfZEVNw47uXx0fcA3DCWcOWV+P9gbPHwZJp5r8mYqMCRf6xHqNMBVlORGvG5Xlwjn2ISzs/NRNq/XVcfWWieTVu8doBM10AgMh0cWj+pPXbfgi7tVgxiwfDppY/0E8Ui6ctovwLHmqLtEuQcw9CCGY+5t5x79GeDlNLe+pg2aTz7lETS6NvZcgS1IhQbSwkI9qnKkWMlln4xX1Cv10zfM4FpgpNYM6LS51Ch8wGzUavVt2vvXfnPlC29ZQmdJVTKKVtHDS+6VVx/1rI3fZhobQc3++ksH79GRNRqIC8HysMY5GV71DDirPZE8xg34L8I781REiDBcroau76wsnnoNtqDvMMGTVm5KpQRyAxj75nxA4TTjquIq95LiTJUq9K9lU8RcZhXsS0fLKxCSTMdgS9WK/IjmC7VUYF1y+3G1qJMOJ/H8Y/ATk2MDyxHDIAVtp56GNdELOS9/hsrnymIzuuVaUF/3PpI7K7UDY5VmmAImrrQOPFHdjT89beZnWZbB4gIajjfBhv+9P7KIz1eEpWjWmkb4Ghu9vcFTiTY9GtijYBvFSkFcItyswD5dCr33bnZIDAHCjQu9KPGkxYk74/vRQvkoCQSVxN83jpLxLSABJWoEwJp18awpuDcvW+PTGFFc1V0vIVsLD+kwWFKYT6vTXkljGHIlHpKKTbwFXadN60g1p8KPoma5c8KhQ3EzJuBF41EkRkiVuTR0+RBwWLgFWg4Y6ByAI94z+AGrexNF+GPtlJ2vb4FGI17oeYyz7gKYRyM0/ewVwAzzNavmsAiBJgMehaMxymlveJKqnp3HB++idFkkDEP6nIBqxCgwiC8WLpAEvy6+rwjLMrIUo483iMGg8DiJ9tpR78xmH9IbUbxI45SxP+SiYCHtgTIJlzt9Xbu3uzMgKihrXe6AmgPh7bWhsHa4hqC52kcXmZjG32XwLXQbltJ5vhuoMLp0e5cyDOKVVCIUmqbyfuMP/Z7xGP6fm/N/VvvH397wf6tDAeajnoMWYHQF7MiNcY2iwKymMogZ6yFaG+fq9T8qj7tv3zP69JtKXQtPqDgqI0S/zSMUlPzkANRP7sJKwchZU5fPN9QMnJFTK+8FQjw0hnOdrs+pFGAlsjY1JBpVn7lNScJ5YTf7QO8ERfpO6zVILYY+bLeTDUozPjWVVAJJcy++nic5oo1+fZbOC1ORH76Aa6UC5vVQQ+kiZeA6a95wX571a/KVqZ5md7RNfpCdylO5r93Mo9LQT2ainrPc6KDwMlZVnkdvDj7UuHlRWGNHcbNfes8VWRDfchoxfX4k1/OFuUBCN7hxOk6DgYaFGxuRnkze5ONtIr+LmAxSD9B0MHauk58hxXWcZNB1mleFX+glt2RwX+r3Hodvlu9T6qaceWTvTi9bIFQyySCUhMQe0URBSLTX4szjTe8IqXCCVI5HQzkqEJfOjjeqvtDeBFE6F9RBd0UwT8C/qKdCPWHHTsiDziKTH/rBFzsiHp9cEw6O8xpmv5gQZmlLN03zC5Yk1M37dTGx/5LmgJFfoc7iAgulfoshXsV7wZ3wVO0HXD2jGYZOaD/MTYej4cBaC0L/PN265UAAGl5NNjbqlMPBz7pduvG1+UF2z8EdBOpaz5Q/wwLfp0uPJ7ZLsytRDf2YplBUwP9CWpC7/WINm/E1w44XBkj/KPj3g1qcml0fptli98mxSEsupzcPSHZ2o0BfCYZiYc5NnXe+50Zz6vexxNEWprvDk65wDqSIDeQY49FB92+l5qsFBxZib/bZyLFT5LW/ezvJNFfAWtxMY7SK7DCG+qpZVSgoJ3iUfyxLXyT/2oeEyU6P4Una7VRZfVXoPIzKTALVsIOx2IqZlQAABEmc3hW/wx6bwGbV9G9FYqx/8GcfhVEos1TdSXcJXpmE9ZLsvH8ITKoNE/g066kTXzzUBfaTa9LHqo1PaCypOFWEvrthDFDZjCzePqpwm+uHIPWEiBHg0d6RQf0BgmQXjnfBwzPOiNwTdgTnix6HM0wzb85OLzYl9NuxMdaasDbHob+vkMmFxbx8mdRzlXufGJkRlFPOl39+AwdSpg7o+2Vi4+Sb07rU53snjkSBqrMjvnbDto6JIWuH39J0AAAGJ5rEQ2dA65Y2qh2tN5LTO3vogCMitP5Tq19LJSecvhUOj/A46KmJ88GCJZxyRvMRBmjAoHJBqXnHAcic6VeXL+MS/VXmU/iKx4mBY04ByFLC/moH/weIg+NnERcShv1h6DlfLVmTvcc0la8cfPaFYTqP8IuL0Htc4vxVNcGfHzMstk2zbkAx0ZvxiZEZRPPpd/fgMHUqYL6XD9r1hyJIIPsGerpgF99YK8eMVeWNsJflwkC3IQaKWPHlb4+FHwWV9SbLWtSO4AALvlN4mAk8P25T/uqx6h11YUv+d0NJjEJjgTlDY+fa0JX8bLaOEiiW9F3tqEInep+sTVCXYGCak4CTRBa+TL7lzy+UUb0Z8gBkctT+NsTlzbvbD/80cwUsXaSmUkzcXWgCQrIfgCsl1JP/wJtKta/LWVQFdPkJEllXxHiV2uaCc2kXolOya/xjvw9tWxWMa1VSfb25yKPWpIlUrbUpWyble+APSud26CEs585iSh0ep7t4HAVjl8cwxg6keawn7xshFUcxn3Fn+bL4nd6qFhOo/wi4oG9KOCwd1rQVFkMmFtqclgzST6KODxyrqpbGpCKwOCIU/LzoGiC5aMAQTmC3AvFAAju7xVCRZz7dHlHVfSSqqAAARhz9H+Fd2JwABLjWkwLs+BT54VygAAASZrANc8nkBS65AAAAAA" alt="1554981279723"></p> <h3 id="_1-2-min-和-max-函数"><a href="#_1-2-min-和-max-函数" class="header-anchor">#</a> 1.2 MIN 和 MAX 函数</h3> <p>可以对<strong>任意数据类型</strong>的数据使用 MIN 和 MAX 函数。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981253194"></p> <h3 id="_1-3-count-函数"><a href="#_1-3-count-函数" class="header-anchor">#</a> 1.3 COUNT 函数</h3> <ul><li>COUNT(*)返回表中记录总数，适用于<strong>任意数据类型</strong>。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="data:image/webp;base64,UklGRiAEAABXRUJQVlA4IBQEAADQIwCdASr4AjYAPpFCnEqlo6MhonW72LASCWVu4XSg5JE2EBtjfMB0Jd4j/jfqAfqr1o3+QcPSbY9m8wNEU8pP+q9P3tA9tGa9uoAMnpcX6+b6TRsXwhg4PQ2+ucxFpQ3AfcjSmd0Z5pifB7I4uNFZOkDX7yoyj3hizzEWlDcCLZ2kATRsXwhg4PQ1ao/uoAJ1ZGU6mxfCGDg9Db65zEWlDcCLZ2h4jne/sQxYsoS1LHTCS+HzpqtCJx89Ot3nAIWztIAmjYvhDBweht9c5iLPoMnmWYO+DZNLjc/uCmsbJpcbn9wU07ANcU8aXG5/cFNY2TS43P7gprGTv/NTdVQdiTQ/LVSSEC2CoBFx/LNlJIQLYKgEXH8s2UkhAtgqARcfyncYCNgAAP78J9A7AzhAWZpEk0tAGVzOcXvDkOQzgBgpkv9WGX2kRO3AABhrwDh4u6JeT3pj1m8PG53ClXigCY5Kdsh3mTm3BmM7IfF1ltj8heo835KS2Y/iUTqluhfrUcmnOxYbvVRMHbtUWaOsv0e8i+KynHa6t6FjaJdOnhnm5ue8Bipcxstf91USEFzgPX/fa4KoCUUP8VGJkGkruvl1GUHsq4P1u8rNGfewG9FRXjqcYH0qurhjy+1LfvXjGP8mX8YEwyAHtmMd14PUSpwaHsIlkfwatCsrxTfysS96p2dDe3ggRmSin8K9+E4VPT12KPl8JoYOnfDAQJjoSPteDAegPTVLGKX+WlYXWdZ1nWdZ1nWdZ1nWdZ1nWdZ1nWdZ1nWdlHa0WoWcfcSBidtrHvYxTGxsFpK/V3D+usPnTDp/wOyS9NlGwp7HFLoK8/brvlu2qWCgGVyK39mrreasB9ZourL5WA+s0XVl8q/B0oWGhzLYSLjGdA6vwRO54k55d1IlcbctduxvWJBEt+XMiYRSkZDkiqBNfPvJQ5Mn41zwHPwcYf5wgj8Z4Kg0q+Voe3BmuGuXuAIRUrm2f2yx7o42NrBgxH5NUf7cFpuqJgWInrLskUfDdJbYMca3i6QICkcrPanxuxn+4rjdEiBXni2jcuhSeS9UScwQ6dSyiBCqIbCCXTPYOjQNh3csq4YNHxexV5b8GCSBl9Rtt+dF+hd0GPadqzre63zOPhGbJ8S5RGushAXBbwIC4LeBAXBbwIC4LeBAUWq1nl7AqSTlfIa0jJMOsN2gr87yrOw1nOHMPwh9BCmqAAAAAAAAAA3/LejljPZ/f+GTH0hbIj2o4VYU6I1/DVBqasD366bTwZ5TtXEuDDT5bQeJF3DsTP9/VGsbNVufh2vaHXklQ7hwnjkths1Z6Px5/0Qv+BDGLzMCxQfTuUE63JJCN1G/FqiD/sniIMHyckN/7OAAAAAKlVuavzxQN5Sa7e72bOAAAAA=" alt="1554981241299"></p> <ul><li>COUNT(expr) 返回<strong>expr 不为空</strong>的记录总数。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981328678"></p> <ul><li><p><strong>问题：用 count(*)，count(1)，count(列名)谁好呢?</strong></p> <p>其实，对于 MyISAM 引擎的表是没有区别的。这种引擎内部有一计数器在维护着行数，都是 O(1)。</p> <p>Innodb 引擎的表用 count(*),count(1)直接读行数，复杂度是 O(n)，因为 innodb 真的要去数一遍。但好于具体的 count(列名)。</p></li> <li><p><strong>问题：能不能使用 count(列名)替换 count(*)?</strong></p> <p>不要使用 <code>count(列名)</code> 来替代 <code>count(*)</code>，<code>count(*)</code>是 SQL92 定义的标准统计行数的语法，跟数据库无关，跟 NULL 和非 NULL 无关。</p> <p>说明：count(*) 会统计值为 NULL 的行，而 count(列名) 不会统计此列为 NULL 值的行。</p></li></ul> <h2 id="_2-group-by"><a href="#_2-group-by" class="header-anchor">#</a> 2. GROUP BY</h2> <h3 id="_2-1-基本使用"><a href="#_2-1-基本使用" class="header-anchor">#</a> 2.1 基本使用</h3> <p><img src="/assets/img/1554981374920.07b936b4.webp" alt="1554981374920"></p> <p><strong>可以使用 GROUP BY 子句将表中的数据分成若干组</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span> group_function<span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> <span class="token keyword">table</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span> condition<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> group_by_expression<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">column</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><strong>明确：WHERE 一定放在 FROM 后面</strong></p></blockquote> <p><strong>在 SELECT 列表中所有未包含在组函数中的列都应该包含在 GROUP BY 子句中</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981539408"></p> <p><img src="data:image/webp;base64,UklGRooCAABXRUJQVlA4IH4CAACwEgCdASr3AhQAPpFIoEylpKMiIhgIALASCWlu/HyZUj4B8Mf382Z83nFt0IyL3d+oFc8elPeDR0+pj/P/rf+M3tN+lfYF/U/rSehyC88b8LW4xKW5LLyp2oJ9NV5OAKX4o4GtY5TlS5XZz2aBOyyNGXWLG9/cBdTUAV4hcYBdTUAV4hcYBdTUFgKIXGAXU1AFeIXGAXU1AFeIXGAUQAD++6SNcVPr1ij9wzFvemSjOc/lsm1zP1w16t2CETtcwvbrp/6EPRoBC3Zr+tkmXaZTbwEn64+tToE4tkXKJ+Edv0fyZELa7FvSLc0X57ApCJZo5uKkS4QP+yGJ6/7IMfPOU2P+qJ8EHFeTmaxk7xypZdK9rD8AFDEh/qOFNFFkOT7NGue2Otg0/PsA6czmoq1jKNE2WKGz/XQSNqju9csEZh+y4/3N3vtCLwX7xg4Yg99CwNQ1FAi4wVBN2C9Sc/S75IRrZAgwK+dXVLDaF6hs5kU3oZp2Fl8N6TGBePefOPYC14Hm48iORr07ROz04lF9R9OvsArZFp490g0fXaipc8+H+2G+MWin5B2S+V//ZWF+QjhYh4VCQpHFPh5NLVA+xlNRfid5VJY8z1DNo0opkHmY1ssH65ARoIafkd7kHIVTH6uP8eqzOadVDbwhdefX8ajAySJx/Mj0XHJ5Vac+Jp/GEpxZLFh1Wq1N2wADTdG6t4mEUCJMSBr399pCUq7KY7mjIArGJbsSDfVfTfqYucIk3h3vg+/e0M0yJVAyKOI5Tz/kM+UIEdex80zZM7sEe8f+r2I2PMANkF31Nbmn+wxCVLtGvz8jgeQaLl/+yqsVhLSi1KkAKewAAAAAAA==" alt="1554981544191"></p> <p>包含在 GROUP BY 子句中的列不必包含在 SELECT 列表中</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981574152"></p> <h3 id="_2-2-使用多个列分组"><a href="#_2-2-使用多个列分组" class="header-anchor">#</a> 2.2 使用多个列分组</h3> <p><img src="/assets/img/1554981607442.ac99142f.webp" alt="1554981607442"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id dept_id<span class="token punctuation">,</span> job_id<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">,</span> job_id <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/1554981624864.34d00fd5.webp" alt="1554981624864"></p> <p><img src="data:image/webp;base64,UklGRr4CAABXRUJQVlA4ILICAADwFgCdASoDAxYAPpFIoUwlpCMiI/QIMLASCWlu4XXxi5ufK8LHsv3HOPawD+Z+Af+8/l5qgH+W8ivjFf5r/e/ud+in8h/0/+A/ET2I/hP81/xf9I/FX7Av5T/Mf83/V/yA+UD1KfqB7CH6iAOV0VUh6Mx8YmQ66jOy/5bm52MXnPo/xlAIO0LziFV2NSYMm028LaZGWzIRWBa/ICqjLZkIrAtfkAoWCqf9Um5nGmRlsyEVgWvyAqoy2ZCKwLX5AIAA/vukj665xoQdDn5ET7FhXLzTNvlPAR+DEx+7/ONhF/sBq7j0dC4fV0pDaY4Ae5VtiZS8jBg9bsvByy09osl9jj7/kC5RDqd0gaBof1+y506V5llGfpsL+bQCG7Wm77FzLJAmNtAVVQd3WbbtM2ISFcj0aiM/3fj820gI3L2hgHQdoLM/fEp0w6dLQGX//L6sfj8gPH9U1Zn1eaPfDgtU9nwkSV2j5s/gPv7vItvfCuekXKls25tuLPCBX8tyt95HWRboVgYNk97E3HR6Sjh4YnKQY6SiDH0Ha60weCL6HdPa/fERvggH543ok1+2eZJdaIFTlUqmetCb4KM0X5lSXiN68CrPE0TxXjCBqXmcYPTtmQdagUl9aYfTKVjONfQB5GptFJC+nk8t8jQYoFN/pVc5aIb56RcqW0wp9+L/8IdK7kK5qGNSnXnct1gn1bP88FVOH9936KbHxDty77gZEmCxO9/GstPVa6Ul7gGO1ltEzRsLcS9Gvl1j3t2Y5Zn/kmiRrK9ChJcbBMPKScBk5AoKzrKg684e6vF5zjWHsLYrkEmH7+vO7n4r6mNtTS+l189KYXHyjRF6L42NwvIwf1UM8ggWMr0ObzaZzzgS4ccuUn3C7snelG4gHjID83qS1fVE00CUgBAf9sYAAAAAAAA=" alt="1554981629733"></p> <h3 id="_2-3-group-by-中使用-with-rollup"><a href="#_2-3-group-by-中使用-with-rollup" class="header-anchor">#</a> 2.3 GROUP BY 中使用 WITH ROLLUP</h3> <p>使用<code>WITH ROLLUP</code>关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">&gt;</span> <span class="token number">80</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>注意：</p> <p>当使用 ROLLUP 时，不能同时使用 ORDER BY 子句进行结果排序，即 ROLLUP 和 ORDER BY 是互相排斥的。</p></blockquote> <h2 id="_3-having"><a href="#_3-having" class="header-anchor">#</a> 3. HAVING</h2> <h3 id="_3-1-基本使用"><a href="#_3-1-基本使用" class="header-anchor">#</a> 3.1 基本使用</h3> <p><img src="/assets/img/1554981656798.69b45e96.webp" alt="1554981656798"></p> <p><strong>过滤分组：HAVING 子句</strong></p> <ol><li>行已经被分组。</li> <li>使用了聚合函数。</li> <li>满足 HAVING 子句中条件的分组将被显示。</li> <li>HAVING 不能单独使用，必须要跟 GROUP BY 一起使用。</li></ol> <p><img src="/assets/img/1554981808091.bc20f4ab.webp" alt="1554981808091"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">10000</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981824564"></p> <ul><li><strong>非法使用聚合函数 ： 不能在 WHERE 子句中使用聚合函数</strong>。如下：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">8000</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554981724375"></p> <h3 id="_3-2-where-和-having-的对比"><a href="#_3-2-where-和-having-的对比" class="header-anchor">#</a> 3.2 WHERE 和 HAVING 的对比</h3> <p><strong>区别 1：WHERE 可以直接使用表中的字段作为筛选条件，但不能使用分组中的计算函数作为筛选条件；HAVING 必须要与 GROUP BY 配合使用，可以把分组计算的函数和分组字段作为筛选条件。</strong></p> <p>这决定了，在需要对数据进行分组统计的时候，HAVING 可以完成 WHERE 不能完成的任务。这是因为，在查询语法结构中，WHERE 在 GROUP BY 之前，所以无法对分组结果进行筛选。HAVING 在 GROUP BY 之后，可以使用分组字段和分组中的计算函数，对分组的结果集进行筛选，这个功能是 WHERE 无法完成的。另外，WHERE 排除的记录不再包括在分组中。</p> <p><strong>区别 2：如果需要通过连接从关联表中获取需要的数据，WHERE 是先筛选后连接，而 HAVING 是先连接后筛选。</strong> 这一点，就决定了在关联查询中，WHERE 比 HAVING 更高效。因为 WHERE 可以先筛选，用一个筛选后的较小数据集和关联表进行连接，这样占用的资源比较少，执行效率也比较高。HAVING 则需要先把结果集准备好，也就是用未被筛选的数据集进行关联，然后对这个大的数据集进行筛选，这样占用的资源就比较多，执行效率也较低。</p> <p>小结如下：</p> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;">优点</th> <th style="text-align:left;">缺点</th></tr></thead> <tbody><tr><td style="text-align:left;">WHERE</td> <td style="text-align:left;">先筛选数据再关联，执行效率高</td> <td style="text-align:left;">不能使用分组中的计算函数进行筛选</td></tr> <tr><td style="text-align:left;">HAVING</td> <td style="text-align:left;">可以使用分组中的计算函数</td> <td style="text-align:left;">在最后的结果集中进行筛选，执行效率较低</td></tr></tbody></table> <p><strong>开发中的选择：</strong></p> <p>WHERE 和 HAVING 也不是互相排斥的，我们可以在一个查询里面同时使用 WHERE 和 HAVING。包含分组统计函数的条件用 HAVING，普通条件用 WHERE。这样，我们就既利用了 WHERE 条件的高效快速，又发挥了 HAVING 可以使用包含分组统计函数的查询条件的优点。当数据量特别大的时候，运行效率会有很大的差别。</p> <h2 id="_4-select-的执行过程"><a href="#_4-select-的执行过程" class="header-anchor">#</a> 4. SELECT 的执行过程</h2> <h3 id="_4-1-查询的结构"><a href="#_4-1-查询的结构" class="header-anchor">#</a> 4.1 查询的结构</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#方式1：</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> 多表的连接条件
<span class="token operator">AND</span> 不包含组函数的过滤条件
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">HAVING</span> 包含组函数的过滤条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">#方式2：</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token keyword">LEFT</span> <span class="token operator">/</span> <span class="token keyword">RIGHT</span><span class="token punctuation">)</span> <span class="token keyword">JOIN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ON</span> 多表的连接条件
<span class="token punctuation">(</span><span class="token keyword">LEFT</span> <span class="token operator">/</span> <span class="token keyword">RIGHT</span><span class="token punctuation">)</span> <span class="token keyword">JOIN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ON</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> 不包含组函数的过滤条件
<span class="token operator">AND</span><span class="token operator">/</span><span class="token operator">OR</span> 不包含组函数的过滤条件
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">HAVING</span> 包含组函数的过滤条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ASC</span><span class="token operator">/</span><span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">#其中：</span>
<span class="token comment">#（1）from：从哪些表中筛选</span>
<span class="token comment">#（2）on：关联多表查询时，去除笛卡尔积</span>
<span class="token comment">#（3）where：从表中筛选的条件</span>
<span class="token comment">#（4）group by：分组依据</span>
<span class="token comment">#（5）having：在统计结果中再次筛选</span>
<span class="token comment">#（6）order by：排序</span>
<span class="token comment">#（7）limit：分页</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="_4-2-select-执行顺序"><a href="#_4-2-select-执行顺序" class="header-anchor">#</a> 4.2 SELECT 执行顺序</h3> <p>你需要记住 SELECT 查询时的两个顺序：</p> <p><strong>1. 关键字的顺序是不能颠倒的：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ... LIMIT...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2.SELECT 语句的执行顺序</strong>（在 MySQL 和 Oracle 中，SELECT 执行顺序基本相同）：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>FROM -&gt; JOIN -&gt; ON -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT 的字段 -&gt; DISTINCT -&gt; ORDER BY -&gt; LIMIT
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/1566872301088.04680c71.webp" alt="1566872301088"></p> <p>比如你写了一个 SQL 语句，那么它的关键字顺序和执行顺序是下面这样的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> player_id<span class="token punctuation">,</span> player_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> num <span class="token comment"># 顺序 5</span>
<span class="token keyword">FROM</span> player <span class="token keyword">JOIN</span> team <span class="token keyword">ON</span> player<span class="token punctuation">.</span>team_id <span class="token operator">=</span> team<span class="token punctuation">.</span>team_id <span class="token comment"># 顺序 1</span>
<span class="token keyword">WHERE</span> height <span class="token operator">&gt;</span> <span class="token number">1.80</span> <span class="token comment"># 顺序 2</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> player<span class="token punctuation">.</span>team_id <span class="token comment"># 顺序 3</span>
<span class="token keyword">HAVING</span> num <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token comment"># 顺序 4</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> num <span class="token keyword">DESC</span> <span class="token comment"># 顺序 6</span>
<span class="token keyword">LIMIT</span> <span class="token number">2</span> <span class="token comment"># 顺序 7</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在 SELECT 语句执行这些步骤的时候，每个步骤都会产生一个<code>虚拟表</code>，然后将这个虚拟表传入下一个步骤中作为输入。需要注意的是，这些步骤隐含在 SQL 的执行过程中，对于我们来说是不可见的。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ol><li>标准 SQL 遵循严格逻辑执行顺序， <code>SELECT</code> 阶段定义的别名仅在后续的 <code>ORDER BY</code> 或 <code>LIMIT</code> 中可用，而 <code>GROUP BY</code> 和 <code>HAVING</code> 因位于 <code>SELECT</code> 之前，理论上无法使用别名。</li> <li>MySQL 从 5.7.5 版本开始，通过以下方式扩展了标准 SQL：
<ul><li>允许在 <code>GROUP BY</code> 和 <code>HAVING</code> 中使用 <code>SELECT</code> 的别名：这是通过<strong>优化器对查询的隐式引用和重写实现</strong>的。</li> <li>从 5.7.5 版本开始，默认启用对 <code>GROUP BY</code> 和 <code>HAVING</code> 中别名的支持。 若需禁用此特性，可设置 <code>sql_mode=ONLY_FULL_GROUP_BY</code>，强制遵循标准 SQL 的严格规则。</li></ul></li> <li>如果 <code>HAVING</code> 和 <code>SELECT</code> 中的聚合操作是相同的计算，优化器会识别这是同一聚合操作，仅计算一次，避免重复开销。</li></ol></div> <h3 id="_4-3-sql-的执行原理"><a href="#_4-3-sql-的执行原理" class="header-anchor">#</a> 4.3 SQL 的执行原理</h3> <p>SELECT 是先执行 FROM 这一步的。在这个阶段，如果是多张表联查，还会经历下面的几个步骤：</p> <ol><li>首先先通过 CROSS JOIN 求笛卡尔积，相当于得到虚拟表 vt(virtual table)1-1；</li> <li>通过 ON 进行筛选，在虚拟表 vt1-1 的基础上进行筛选，得到虚拟表 vt1-2；</li> <li>添加外部行。如果我们使用的是左连接、右链接或者全连接，就会涉及到外部行，也就是在虚拟表 vt1-2 的基础上增加外部行，得到虚拟表 vt1-3。</li></ol> <p>当然如果我们操作的是两张以上的表，还会重复上面的步骤，直到所有表都被处理完为止。这个过程得到是我们的原始数据。</p> <p>当我们拿到了查询数据表的原始数据，也就是最终的虚拟表 <code>vt1</code>，就可以在此基础上再进行 <code>WHERE 阶段</code>。在这个阶段中，会根据 vt1 表的结果进行筛选过滤，得到虚拟表 <code>vt2</code>。</p> <p>然后进入第三步和第四步，也就是 <code>GROUP 和 HAVING 阶段</code>。在这个阶段中，实际上是在虚拟表 vt2 的基础上进行分组和分组过滤，得到中间的虚拟表 <code>vt3</code> 和 <code>vt4</code>。</p> <p>当我们完成了条件筛选部分之后，就可以筛选表中提取的字段，也就是进入到 <code>SELECT 和 DISTINCT 阶段</code>。</p> <p>首先在 SELECT 阶段会提取想要的字段，然后在 DISTINCT 阶段过滤掉重复的行，分别得到中间的虚拟表 <code>vt5-1</code> 和 <code>vt5-2</code>。</p> <p>当我们提取了想要的字段数据之后，就可以按照指定的字段进行排序，也就是 <code>ORDER BY 阶段</code>，得到虚拟表 <code>vt6</code>。</p> <p>最后在 vt6 的基础上，取出指定行的记录，也就是 <code>LIMIT 阶段</code>，得到最终的结果，对应的是虚拟表 <code>vt7</code>。</p> <p>当然我们在写 SELECT 语句的时候，不一定存在所有的关键字，相应的阶段就会省略。</p> <p>同时因为 SQL 是一门类似英语的结构化查询语言，所以我们在写 SELECT 语句的时候，还要注意相应的关键字顺序，<strong>所谓底层运行的原理，就是我们刚才讲到的执行顺序。</strong></p> <h2 id="课堂笔记-sql"><a href="#课堂笔记-sql" class="header-anchor">#</a> 课堂笔记 SQL</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 第08章_聚合函数</span>

<span class="token comment">#1. 常见的几个聚合函数</span>
<span class="token comment">#1.1 AVG / SUM ：只适用于数值类型的字段（或变量）</span>

<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">107</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment">#如下的操作没有意义</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>


<span class="token comment">#1.2 MAX / MIN :适用于数值类型、字符串类型、日期时间类型的字段（或变量）</span>

<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>


<span class="token comment">#1.3 COUNT：</span>
<span class="token comment"># ① 作用：计算指定字段在查询结构中出现的个数（不包含NULL值的）</span>

<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees <span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">#如果计算表中有多少条记录，如何实现？</span>
<span class="token comment">#方式1：COUNT(*)</span>
<span class="token comment">#方式2：COUNT(1)</span>
<span class="token comment">#方式3：COUNT(具体字段) : 不一定对！</span>

<span class="token comment">#② 注意：计算指定字段出现的个数时，是不计算NULL值的。</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> commission_pct
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">#③ 公式：AVG = SUM / COUNT</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">AVG</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">COUNT</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">SUM</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">107</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">#需求：查询公司中平均奖金率</span>
<span class="token comment">#错误的！</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">#正确的：</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">AVG</span><span class="token punctuation">(</span>IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment"># 如何需要统计表中的记录数，使用COUNT(*)、COUNT(1)、COUNT(具体字段) 哪个效率更高呢？</span>
<span class="token comment"># 如果使用的是MyISAM 存储引擎，则三者效率相同，都是O(1)</span>
<span class="token comment"># 如果使用的是InnoDB 存储引擎，则三者效率：COUNT(*) = COUNT(1)&gt; COUNT(字段)</span>


<span class="token comment">#其他：方差、标准差、中位数</span>

<span class="token comment">#2. GROUP BY 的使用</span>

<span class="token comment">#需求：查询各个部门的平均工资，最高工资</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id

<span class="token comment">#需求：查询各个job_id的平均工资</span>
<span class="token keyword">SELECT</span> job_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>

<span class="token comment">#需求：查询各个department_id,job_id的平均工资</span>
<span class="token comment">#方式1：</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>  department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">;</span>
<span class="token comment">#方式2：</span>
<span class="token keyword">SELECT</span> job_id<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">,</span>department_id<span class="token punctuation">;</span>


<span class="token comment">#错误的！</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>

<span class="token comment">#结论1：SELECT中出现的非组函数的字段必须声明在GROUP BY 中。</span>
<span class="token comment">#      反之，GROUP BY中声明的字段可以不出现在SELECT中。</span>

<span class="token comment">#结论2：GROUP BY 声明在FROM后面、WHERE后面，ORDER BY 前面、LIMIT前面</span>

<span class="token comment">#结论3：MySQL中GROUP BY中使用WITH ROLLUP</span>

<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>

<span class="token comment">#需求：查询各个部门的平均工资，按照平均工资升序排列</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> avg_sal
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> avg_sal <span class="token keyword">ASC</span><span class="token punctuation">;</span>

<span class="token comment">#说明：当使用ROLLUP时，不能同时使用ORDER BY子句进行结果排序，即ROLLUP和ORDER BY是互相排斥的。</span>
<span class="token comment">#错误的：</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> avg_sal
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">WITH ROLLUP</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> avg_sal <span class="token keyword">ASC</span><span class="token punctuation">;</span>

<span class="token comment">#3. HAVING的使用 (作用：用来过滤数据的)</span>
<span class="token comment">#练习：查询各个部门中最高工资比10000高的部门信息</span>
<span class="token comment">#错误的写法：</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>


<span class="token comment">#要求1：如果过滤条件中使用了聚合函数，则必须使用HAVING来替换WHERE。否则，报错。</span>
<span class="token comment">#要求2：HAVING 必须声明在 GROUP BY 的后面。</span>

<span class="token comment">#正确的写法：</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span><span class="token punctuation">;</span>

<span class="token comment">#要求3：开发中，我们使用HAVING的前提是SQL中使用了GROUP BY。</span>


<span class="token comment">#练习：查询部门id为10,20,30,40这4个部门中最高工资比10000高的部门信息</span>
<span class="token comment">#方式1：推荐，执行效率高于方式2.</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span><span class="token punctuation">;</span>

<span class="token comment">#方式2：</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span> <span class="token operator">AND</span> department_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#结论：当过滤条件中有聚合函数时，则此过滤条件必须声明在HAVING中。</span>
<span class="token comment">#      当过滤条件中没有聚合函数时，则此过滤条件声明在WHERE中或HAVING中都可以。但是，建议大家声明在WHERE中。</span>

<span class="token comment">/*
  WHERE 与 HAVING 的对比
1. 从适用范围上来讲，HAVING的适用范围更广。 
2. 如果过滤条件中没有聚合函数：这种情况下，WHERE的执行效率要高于HAVING
*/</span>

<span class="token comment">#4. SQL底层执行原理</span>
<span class="token comment">#4.1 SELECT 语句的完整结构</span>
<span class="token comment">/*

#sql92语法：
SELECT ....,....,....(存在聚合函数)
FROM ...,....,....
WHERE 多表的连接条件 AND 不包含聚合函数的过滤条件
GROUP BY ...,....
HAVING 包含聚合函数的过滤条件
ORDER BY ....,...(ASC / DESC )
LIMIT ...,....


#sql99语法：
SELECT ....,....,....(存在聚合函数)
FROM ... (LEFT / RIGHT)JOIN ....ON 多表的连接条件 
(LEFT / RIGHT)JOIN ... ON ....
WHERE 不包含聚合函数的过滤条件
GROUP BY ...,....
HAVING 包含聚合函数的过滤条件
ORDER BY ....,...(ASC / DESC )
LIMIT ...,....


*/</span>

<span class="token comment">#4.2 SQL语句的执行过程：</span>
<span class="token comment">#FROM ...,...-&gt; ON -&gt; (LEFT/RIGNT  JOIN) -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT -&gt; DISTINCT -&gt; </span>
<span class="token comment"># ORDER BY -&gt; LIMIT</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br></div></div><h2 id="课后练习-sql"><a href="#课后练习-sql" class="header-anchor">#</a> 课后练习 SQL</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 第08章_聚合函数的课后练习</span>

<span class="token comment">#1.where子句可否使用组函数进行过滤?  No!</span>

<span class="token comment">#2.查询公司员工工资的最大值，最小值，平均值，总和</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> max_sal <span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> mim_sal<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> avg_sal<span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> sum_sal
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">#3.查询各job_id的员工工资的最大值，最小值，平均值，总和</span>

<span class="token keyword">SELECT</span> job_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>

<span class="token comment">#4.选择具有各个job_id的员工人数</span>
<span class="token keyword">SELECT</span> job_id<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id<span class="token punctuation">;</span>

<span class="token comment"># 5.查询员工最高工资和最低工资的差距（DIFFERENCE）  #DATEDIFF</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token string">&quot;DIFFERENCE&quot;</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment"># 6.查询各个管理者手下员工的最低工资，其中最低工资不能低于6000，没有管理者的员工不计算在内</span>
<span class="token keyword">SELECT</span> manager_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> manager_id <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> manager_id
<span class="token keyword">HAVING</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">6000</span><span class="token punctuation">;</span>

<span class="token comment"># 7.查询所有部门的名字，location_id，员工数量和平均工资，并按平均工资降序 </span>
<span class="token keyword">SELECT</span> d<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>location_id<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> departments d <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees e
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_name<span class="token punctuation">,</span>location_id

<span class="token comment"># 8.查询每个工种、每个部门的部门名、工种名和最低工资 </span>
<span class="token keyword">SELECT</span> d<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> departments d <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees e
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_name<span class="token punctuation">,</span>job_id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/11/04, 22:39:35</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">第07章_单行函数</div></a> <a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-9/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">第09章_子查询</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/" class="prev">第07章_单行函数</a></span> <span class="next"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-9/">第09章_子查询</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/java-basic/java-web/chapter-9/"><div>
            第九章 前端工程化-下
            <!----></div></a> <span class="date">12-11</span></dt></dl><dl><dd>02</dd> <dt><a href="/java-basic/java-web/chapter-8/"><div>
            第八章 前端工程化-中
            <!----></div></a> <span class="date">12-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/java-basic/java-web/chapter-7/"><div>
            第七章 前端工程化-上
            <!----></div></a> <span class="date">12-04</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1214025526@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/coderofmutou" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/ismutou" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2024-2026
    <span>bombax | <a href="https://github.com/coderofmutou/coderofmutou.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1f9bc03c.js" defer></script><script src="/assets/js/3.be9e7e99.js" defer></script><script src="/assets/js/2.c36d0987.js" defer></script><script src="/assets/js/36.a17d9cce.js" defer></script>
  </body>
</html>
