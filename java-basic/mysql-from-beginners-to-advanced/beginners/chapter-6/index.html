<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第06章_多表查询 | Bombax&#39;s Knowledge Document Notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="技术知识学习笔记">
    <meta name="keywords" content="技术知识学习笔记">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.a5ee4d2c.css" as="style"><link rel="preload" href="/assets/js/app.ca5c989c.js" as="script"><link rel="preload" href="/assets/js/3.f2884e99.js" as="script"><link rel="preload" href="/assets/js/2.81e8b964.js" as="script"><link rel="preload" href="/assets/js/24.6fe732dc.js" as="script"><link rel="prefetch" href="/assets/js/1.f754fd0b.js"><link rel="prefetch" href="/assets/js/10.bde6e567.js"><link rel="prefetch" href="/assets/js/100.000718ad.js"><link rel="prefetch" href="/assets/js/101.863f022a.js"><link rel="prefetch" href="/assets/js/102.7b45f43b.js"><link rel="prefetch" href="/assets/js/103.ba5681a8.js"><link rel="prefetch" href="/assets/js/104.e35b7e87.js"><link rel="prefetch" href="/assets/js/105.15a150cd.js"><link rel="prefetch" href="/assets/js/106.aea81b3b.js"><link rel="prefetch" href="/assets/js/107.4f4dec09.js"><link rel="prefetch" href="/assets/js/108.0079fda6.js"><link rel="prefetch" href="/assets/js/109.7a5059de.js"><link rel="prefetch" href="/assets/js/11.fa1b0bc7.js"><link rel="prefetch" href="/assets/js/110.85007649.js"><link rel="prefetch" href="/assets/js/111.dbec93e3.js"><link rel="prefetch" href="/assets/js/112.f17a38c0.js"><link rel="prefetch" href="/assets/js/113.6478506e.js"><link rel="prefetch" href="/assets/js/114.6031c0db.js"><link rel="prefetch" href="/assets/js/115.d7094af2.js"><link rel="prefetch" href="/assets/js/116.316a6234.js"><link rel="prefetch" href="/assets/js/117.1336f5e0.js"><link rel="prefetch" href="/assets/js/118.4b882789.js"><link rel="prefetch" href="/assets/js/119.503f83be.js"><link rel="prefetch" href="/assets/js/12.04b9b957.js"><link rel="prefetch" href="/assets/js/120.af7d94d8.js"><link rel="prefetch" href="/assets/js/121.5cd3597d.js"><link rel="prefetch" href="/assets/js/122.82f45642.js"><link rel="prefetch" href="/assets/js/123.f2ba0b19.js"><link rel="prefetch" href="/assets/js/13.680e50fd.js"><link rel="prefetch" href="/assets/js/14.dfca4100.js"><link rel="prefetch" href="/assets/js/15.01784967.js"><link rel="prefetch" href="/assets/js/16.81c1d5ab.js"><link rel="prefetch" href="/assets/js/17.9a472859.js"><link rel="prefetch" href="/assets/js/18.5366cb68.js"><link rel="prefetch" href="/assets/js/19.b1b74ef9.js"><link rel="prefetch" href="/assets/js/20.e938fa21.js"><link rel="prefetch" href="/assets/js/21.3e38db33.js"><link rel="prefetch" href="/assets/js/22.f9d18654.js"><link rel="prefetch" href="/assets/js/23.8eea4b67.js"><link rel="prefetch" href="/assets/js/25.b1885cb6.js"><link rel="prefetch" href="/assets/js/26.936ee89a.js"><link rel="prefetch" href="/assets/js/27.fb3beb63.js"><link rel="prefetch" href="/assets/js/28.af721a74.js"><link rel="prefetch" href="/assets/js/29.427b7eae.js"><link rel="prefetch" href="/assets/js/30.2af5e34e.js"><link rel="prefetch" href="/assets/js/31.60102330.js"><link rel="prefetch" href="/assets/js/32.746872da.js"><link rel="prefetch" href="/assets/js/33.9466d03b.js"><link rel="prefetch" href="/assets/js/34.c7f7b0ef.js"><link rel="prefetch" href="/assets/js/35.53799eb8.js"><link rel="prefetch" href="/assets/js/36.e8875fc1.js"><link rel="prefetch" href="/assets/js/37.c386b2c5.js"><link rel="prefetch" href="/assets/js/38.ee46082f.js"><link rel="prefetch" href="/assets/js/39.11d092ff.js"><link rel="prefetch" href="/assets/js/4.920d0610.js"><link rel="prefetch" href="/assets/js/40.4ee40bcf.js"><link rel="prefetch" href="/assets/js/41.81c3174c.js"><link rel="prefetch" href="/assets/js/42.18f42b9d.js"><link rel="prefetch" href="/assets/js/43.7426d1ac.js"><link rel="prefetch" href="/assets/js/44.d5baff75.js"><link rel="prefetch" href="/assets/js/45.7b25c5ca.js"><link rel="prefetch" href="/assets/js/46.dff72ed3.js"><link rel="prefetch" href="/assets/js/47.15531a4f.js"><link rel="prefetch" href="/assets/js/48.48bbc098.js"><link rel="prefetch" href="/assets/js/49.49acd468.js"><link rel="prefetch" href="/assets/js/5.847584a2.js"><link rel="prefetch" href="/assets/js/50.e26ee1bf.js"><link rel="prefetch" href="/assets/js/51.6728bddb.js"><link rel="prefetch" href="/assets/js/52.c238e7bf.js"><link rel="prefetch" href="/assets/js/53.025903f6.js"><link rel="prefetch" href="/assets/js/54.05baf03a.js"><link rel="prefetch" href="/assets/js/55.b6fc3e0a.js"><link rel="prefetch" href="/assets/js/56.8e5ef1fc.js"><link rel="prefetch" href="/assets/js/57.db41b6fb.js"><link rel="prefetch" href="/assets/js/58.b4cb51f8.js"><link rel="prefetch" href="/assets/js/59.423b27e1.js"><link rel="prefetch" href="/assets/js/6.b384c550.js"><link rel="prefetch" href="/assets/js/60.57eff889.js"><link rel="prefetch" href="/assets/js/61.387a5103.js"><link rel="prefetch" href="/assets/js/62.23ba2982.js"><link rel="prefetch" href="/assets/js/63.2d69780b.js"><link rel="prefetch" href="/assets/js/64.d3f669fb.js"><link rel="prefetch" href="/assets/js/65.f5410640.js"><link rel="prefetch" href="/assets/js/66.59887fb2.js"><link rel="prefetch" href="/assets/js/67.01fba30e.js"><link rel="prefetch" href="/assets/js/68.8a6bbb81.js"><link rel="prefetch" href="/assets/js/69.12e673c4.js"><link rel="prefetch" href="/assets/js/70.a227d4b3.js"><link rel="prefetch" href="/assets/js/71.bd6a3bd7.js"><link rel="prefetch" href="/assets/js/72.4f2efca4.js"><link rel="prefetch" href="/assets/js/73.7dbf57a8.js"><link rel="prefetch" href="/assets/js/74.28c26d0a.js"><link rel="prefetch" href="/assets/js/75.d36a4feb.js"><link rel="prefetch" href="/assets/js/76.9123efc1.js"><link rel="prefetch" href="/assets/js/77.cbe2020d.js"><link rel="prefetch" href="/assets/js/78.7ab3eb40.js"><link rel="prefetch" href="/assets/js/79.bc69c4a8.js"><link rel="prefetch" href="/assets/js/80.da17de0b.js"><link rel="prefetch" href="/assets/js/81.1d16813f.js"><link rel="prefetch" href="/assets/js/82.586f2e97.js"><link rel="prefetch" href="/assets/js/83.129cc5fa.js"><link rel="prefetch" href="/assets/js/84.83d65ed9.js"><link rel="prefetch" href="/assets/js/85.f4327096.js"><link rel="prefetch" href="/assets/js/86.866a7d4f.js"><link rel="prefetch" href="/assets/js/87.f8aba274.js"><link rel="prefetch" href="/assets/js/88.43c5a138.js"><link rel="prefetch" href="/assets/js/89.b47b6d86.js"><link rel="prefetch" href="/assets/js/9.ef15744b.js"><link rel="prefetch" href="/assets/js/90.4950712a.js"><link rel="prefetch" href="/assets/js/91.80bbaffe.js"><link rel="prefetch" href="/assets/js/92.0d03ce50.js"><link rel="prefetch" href="/assets/js/93.fff94cff.js"><link rel="prefetch" href="/assets/js/94.91d0e36d.js"><link rel="prefetch" href="/assets/js/95.15227fb3.js"><link rel="prefetch" href="/assets/js/96.b3ef20b0.js"><link rel="prefetch" href="/assets/js/97.9e5e1675.js"><link rel="prefetch" href="/assets/js/98.b213b526.js"><link rel="prefetch" href="/assets/js/99.1ec76897.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.1b448e12.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a5ee4d2c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.webp" alt="Bombax's Knowledge Document Notes" class="logo"> <span class="site-name can-hide">Bombax's Knowledge Document Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><a href="/java-basic/" class="link-title router-link-active">Java基础</a> <span class="title" style="display:none;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-learning/" class="nav-link">尚硅谷Java学习</a></li><li class="dropdown-subitem"><a href="/java-basic/software-install-config/" class="nav-link">基础软件安装与配置</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-from-entry-to-proficiency/" class="nav-link">Java从入门到精通(JDK17版)</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/" class="nav-link router-link-active">MySQL从入门到高级-基础篇</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/" class="nav-link">MySQL从入门到高级-高级篇</a></li><li class="dropdown-subitem"><a href="/java-basic/jdbc-core/" class="nav-link">JDBC 核心技术(JDK21版)</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/pojo/" class="nav-link">POJO 概念</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务核心" class="dropdown-title"><a href="/micro-service-core/" class="link-title">微服务核心</a> <span class="title" style="display:none;">微服务核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud-Alibaba/" class="nav-link">SpringCloud-Alibaba</a></li></ul></li><li class="dropdown-item"><h4>持久层框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/micro-service-core/MyBatisPlus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>相关知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/20b7dd/" class="nav-link">Mybatis 代码生成工具比较</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务生态" class="dropdown-title"><a href="/micro-service-ecology/" class="link-title">微服务生态</a> <span class="title" style="display:none;">微服务生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安全框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/SpringSecurity/" class="nav-link">安全框架之 Spring Security</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/Shiro/" class="nav-link">安全框架之 Shiro</a></li></ul></li><li class="dropdown-item"><h4>定时任务框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/Quartz/" class="nav-link">定时任务框架之 Quartz</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/XXL-JOB/" class="nav-link">定时任务框架之 XXL-JOB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用工具" class="dropdown-title"><a href="/tools/" class="link-title">实用工具</a> <span class="title" style="display:none;">实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/java-logs/" class="nav-link">Java 日志热门框架</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git 常用命令</a></li><li class="dropdown-item"><!----> <a href="/tools/swagger/" class="nav-link">Swagger API 文档生成工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weibocom/motan/wiki/zh_overview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Motan RPC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.knowledgedict.com/tutorial/lombok-intro.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Tutorial
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://projectlombok.org/features/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Features
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/fastjson2/wiki/fastjson2_intro_cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FastJSON2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://felord.cn/_doc/spring/5.x.RELEASE/_book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Framework 5 中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://x-stream.github.io/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XStream
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://neoremind.com/2016/02/java%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E9%AA%8C%E8%AF%81%E6%A1%86%E6%9E%B6fluent-validator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fluent-validator 业务逻辑验证框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ehcache.org/documentation/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ehcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/jetcache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jetcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caffeine.gitbook.io/caffeine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  caffeine 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://springdoc.cn/spring/integration.html#cache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Cache
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/imyjy/p/15695160.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主流缓存框架调研
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  redisson 官方中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/u012934325/article/details/100652805" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 中文学习指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.liquibase.com/concepts/introduction-to-liquibase.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/coderofmutou/coderofmutou.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.webp"> <div class="blogger-info"><h3>bombax</h3> <span>小小程序猿</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><a href="/java-basic/" class="link-title router-link-active">Java基础</a> <span class="title" style="display:none;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前置</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-learning/" class="nav-link">尚硅谷Java学习</a></li><li class="dropdown-subitem"><a href="/java-basic/software-install-config/" class="nav-link">基础软件安装与配置</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java-basic/java-from-entry-to-proficiency/" class="nav-link">Java从入门到精通(JDK17版)</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/" class="nav-link router-link-active">MySQL从入门到高级-基础篇</a></li><li class="dropdown-subitem"><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/" class="nav-link">MySQL从入门到高级-高级篇</a></li><li class="dropdown-subitem"><a href="/java-basic/jdbc-core/" class="nav-link">JDBC 核心技术(JDK21版)</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/pojo/" class="nav-link">POJO 概念</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务核心" class="dropdown-title"><a href="/micro-service-core/" class="link-title">微服务核心</a> <span class="title" style="display:none;">微服务核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud/" class="nav-link">SpringCloud</a></li><li class="dropdown-subitem"><a href="/micro-service-core/SpringCloud-Alibaba/" class="nav-link">SpringCloud-Alibaba</a></li></ul></li><li class="dropdown-item"><h4>持久层框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-core/MyBatis/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/micro-service-core/MyBatisPlus/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>相关知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/20b7dd/" class="nav-link">Mybatis 代码生成工具比较</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务生态" class="dropdown-title"><a href="/micro-service-ecology/" class="link-title">微服务生态</a> <span class="title" style="display:none;">微服务生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>安全框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/SpringSecurity/" class="nav-link">安全框架之 Spring Security</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/Shiro/" class="nav-link">安全框架之 Shiro</a></li></ul></li><li class="dropdown-item"><h4>定时任务框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/micro-service-ecology/Quartz/" class="nav-link">定时任务框架之 Quartz</a></li><li class="dropdown-subitem"><a href="/micro-service-ecology/XXL-JOB/" class="nav-link">定时任务框架之 XXL-JOB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实用工具" class="dropdown-title"><a href="/tools/" class="link-title">实用工具</a> <span class="title" style="display:none;">实用工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/java-logs/" class="nav-link">Java 日志热门框架</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git 常用命令</a></li><li class="dropdown-item"><!----> <a href="/tools/swagger/" class="nav-link">Swagger API 文档生成工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><!----> <span class="title" style="display:;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/weibocom/motan/wiki/zh_overview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Motan RPC
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.knowledgedict.com/tutorial/lombok-intro.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Tutorial
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://projectlombok.org/features/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lombok Features
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/fastjson2/wiki/fastjson2_intro_cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FastJSON2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://felord.cn/_doc/spring/5.x.RELEASE/_book/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Framework 5 中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://x-stream.github.io/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XStream
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://neoremind.com/2016/02/java%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E9%AA%8C%E8%AF%81%E6%A1%86%E6%9E%B6fluent-validator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  fluent-validator 业务逻辑验证框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.ehcache.org/documentation/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ehcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/alibaba/jetcache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jetcache java 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caffeine.gitbook.io/caffeine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  caffeine 缓存框架
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://springdoc.cn/spring/integration.html#cache" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Cache
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/imyjy/p/15695160.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主流缓存框架调研
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  redisson 官方中文文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/u012934325/article/details/100652805" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 中文学习指南
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.liquibase.com/concepts/introduction-to-liquibase.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LiquiBase 官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/coderofmutou/coderofmutou.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>核心</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Java从入门到精通(JDK17版)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>MySQL从入门到高级-基础篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-0/" class="sidebar-link">第00章_写在前面</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-1/" class="sidebar-link">第01章_数据库概述</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-2/" class="sidebar-link">第02章_MySQL 环境搭建</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-3/" class="sidebar-link">第03章_基本的 SELECT 语句</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-4/" class="sidebar-link">第04章_运算符</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-5/" class="sidebar-link">第05章_排序与分页</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/" aria-current="page" class="active sidebar-link">第06章_多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_1-一个案例引发的多表连接" class="sidebar-link">1. 一个案例引发的多表连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_1-1-案例说明" class="sidebar-link">1.1 案例说明</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_1-2-笛卡尔积-或交叉连接-的理解" class="sidebar-link">1.2 笛卡尔积（或交叉连接）的理解</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_1-3-案例分析与问题解决" class="sidebar-link">1.3 案例分析与问题解决</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_2-多表查询分类讲解" class="sidebar-link">2. 多表查询分类讲解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#分类-1-等值连接-vs-非等值连接" class="sidebar-link">分类 1：等值连接 vs 非等值连接</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#等值连接" class="sidebar-link">等值连接</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#非等值连接" class="sidebar-link">非等值连接</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#分类-2-自连接-vs-非自连接" class="sidebar-link">分类 2：自连接 vs 非自连接</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#分类-3-内连接-vs-外连接" class="sidebar-link">分类 3：内连接 vs 外连接</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#sql92-使用-创建连接" class="sidebar-link">SQL92：使用(+)创建连接</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-sql99-语法实现多表查询" class="sidebar-link">3. SQL99 语法实现多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-1-基本语法" class="sidebar-link">3.1 基本语法</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-2-内连接-inner-join-的实现" class="sidebar-link">3.2 内连接(INNER JOIN)的实现</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-3-外连接-outer-join-的实现" class="sidebar-link">3.3 外连接(OUTER JOIN)的实现</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-3-1-左外连接-left-outer-join" class="sidebar-link">3.3.1 左外连接(LEFT OUTER JOIN)</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-3-2-右外连接-right-outer-join" class="sidebar-link">3.3.2 右外连接(RIGHT OUTER JOIN)</a></li><li class="sidebar-sub-header level4"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_3-3-3-满外连接-full-outer-join" class="sidebar-link">3.3.3 满外连接(FULL OUTER JOIN)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_4-union-的使用" class="sidebar-link">4. UNION 的使用</a></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_5-7-种-sql-joins-的实现" class="sidebar-link">5. 7 种 SQL JOINS 的实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_5-7-1-代码实现" class="sidebar-link">5.7.1 代码实现</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_5-7-2-语法格式小结" class="sidebar-link">5.7.2 语法格式小结</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_6-sql99-语法新特性" class="sidebar-link">6. SQL99 语法新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_6-1-自然连接" class="sidebar-link">6.1 自然连接</a></li><li class="sidebar-sub-header level3"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_6-2-using-连接" class="sidebar-link">6.2 USING 连接</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#_7-章节小结" class="sidebar-link">7. 章节小结</a></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#附录-常用的-sql-标准有哪些" class="sidebar-link">附录：常用的 SQL 标准有哪些</a></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#课堂笔记-sql" class="sidebar-link">课堂笔记 SQL</a></li><li class="sidebar-sub-header level2"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-6/#课后练习-sql" class="sidebar-link">课后练习 SQL</a></li></ul></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/" class="sidebar-link">第07章_单行函数</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-8/" class="sidebar-link">第08章_聚合函数</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-9/" class="sidebar-link">第09章_子查询</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-10/" class="sidebar-link">第10章_创建和管理表</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-11/" class="sidebar-link">第11章_数据处理之增删改</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-12/" class="sidebar-link">第12章_MySQL 数据类型精讲</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-13/" class="sidebar-link">第13章_约束</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-14/" class="sidebar-link">第14章_视图</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-15/" class="sidebar-link">第15章_存储过程与函数</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-16/" class="sidebar-link">第16章_变量、流程控制与游标</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-17/" class="sidebar-link">第17章_触发器</a></li><li><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-18/" class="sidebar-link">第18章_MySQL8 其它新特性</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>MySQL从入门到高级-高级篇</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/java-basic/jdbc-core/" class="sidebar-link">JDBC 核心技术(JDK21版)</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=Java%E5%9F%BA%E7%A1%80" title="分类" data-v-06225672>Java基础</a></li><li data-v-06225672><a href="/categories/?category=%E6%A0%B8%E5%BF%83" title="分类" data-v-06225672>核心</a></li><li data-v-06225672><a href="/categories/?category=MySQL%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E9%AB%98%E7%BA%A7-%E5%9F%BA%E7%A1%80%E7%AF%87" title="分类" data-v-06225672>MySQL从入门到高级-基础篇</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/coderofmutou" target="_blank" title="作者" class="beLink" data-v-06225672>bombax</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-01-20</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">第06章_多表查询<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="第-06-章-多表查询"><a href="#第-06-章-多表查询" class="header-anchor">#</a> 第 06 章_多表查询</h1> <p>讲师：尚硅谷-宋红康（江湖人称：康师傅）</p> <p>官网：<a href="http://www.atguigu.com/" target="_blank" rel="noopener noreferrer">http://www.atguigu.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。</p> <p>前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进行关联。</p> <h2 id="_1-一个案例引发的多表连接"><a href="#_1-一个案例引发的多表连接" class="header-anchor">#</a> 1. 一个案例引发的多表连接</h2> <h3 id="_1-1-案例说明"><a href="#_1-1-案例说明" class="header-anchor">#</a> 1.1 案例说明</h3> <p><img src="/assets/img/1554974984600.4befa859.webp" alt="1554974984600"></p> <p>从多个表中获取数据：</p> <p><img src="/assets/img/1554975020388.0ce267e8.webp" alt="1554975020388"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#案例：查询员工的姓名及其部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/1554975097631.c43a1a80.webp" alt="1554975097631"></p> <p>查询结果：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token operator">|</span> last_name <span class="token operator">|</span> department_name      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> AdministratiON <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Marketing            <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Purchasing           <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Human Resources      <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Shipping             <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> IT                   <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> <span class="token keyword">Public</span> Relations     <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Sales                <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Executive            <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Finance              <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Accounting           <span class="token operator">|</span>
<span class="token operator">|</span> King      <span class="token operator">|</span> Treasury             <span class="token operator">|</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> IT Support           <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> NOC                  <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> IT Helpdesk          <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Government Sales     <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Retail Sales         <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Recruiting           <span class="token operator">|</span>
<span class="token operator">|</span> Gietz     <span class="token operator">|</span> Payroll              <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+----------------------+</span>
<span class="token number">2889</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>分析错误情况：</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment">#输出107行</span>

<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>department_id<span class="token punctuation">)</span><span class="token keyword">FROM</span> departments<span class="token punctuation">;</span>
<span class="token comment">#输出27行</span>

<span class="token keyword">SELECT</span> <span class="token number">107</span><span class="token operator">*</span><span class="token number">27</span> <span class="token keyword">FROM</span> dual<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>我们把上述多表查询中出现的问题称为：笛卡尔积的错误。因为缺少了多表的连接条件。</p> <h3 id="_1-2-笛卡尔积-或交叉连接-的理解"><a href="#_1-2-笛卡尔积-或交叉连接-的理解" class="header-anchor">#</a> 1.2 笛卡尔积（或交叉连接）的理解</h3> <p>笛卡尔乘积是一个数学运算。假设我有两个集合 X 和 Y，那么 X 和 Y 的笛卡尔积就是 X 和 Y 的所有可能组合，也就是第一个对象来自于 X，第二个对象来自于 Y 的所有可能。组合的个数即为两个集合中元素个数的乘积数。</p> <p><img src="/assets/img/302046364841977.7473670f.webp" alt="img"></p> <p>SQL92 中，笛卡尔积也称为<code>交叉连接</code>，英文是 <code>CROSS JOIN</code>。在 SQL99 中也是使用 CROSS JOIN 表示交叉连接。它的作用就是可以把任意表进行连接，即使这两张表不相关。在 MySQL 中如下情况会出现笛卡尔积：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查询员工姓名和所在部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_1-3-案例分析与问题解决"><a href="#_1-3-案例分析与问题解决" class="header-anchor">#</a> 1.3 案例分析与问题解决</h3> <ul><li><p><strong>笛卡尔积的错误会在下面条件下产生</strong>：</p> <ul><li>省略多个表的连接条件（或关联条件）</li> <li>连接条件（或关联条件）无效</li> <li>所有表中的所有行互相连接</li></ul></li> <li><p>为了避免笛卡尔积， 可以<strong>在 WHERE 加入有效的连接条件。</strong></p></li> <li><p>加入连接条件后，查询语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> table1<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span> table2<span class="token punctuation">.</span><span class="token keyword">column</span>
<span class="token keyword">FROM</span> table1<span class="token punctuation">,</span> table2
<span class="token keyword">WHERE</span> table1<span class="token punctuation">.</span>column1 <span class="token operator">=</span> table2<span class="token punctuation">.</span>column2<span class="token punctuation">;</span>  <span class="token comment">#连接条件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>在 WHERE 子句中写入连接条件。</strong></li></ul></li> <li><p>正确写法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#案例：查询员工的姓名及其部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p><strong>在表中有相同列时，在列名之前加上表名前缀。</strong></p></li></ul> <h2 id="_2-多表查询分类讲解"><a href="#_2-多表查询分类讲解" class="header-anchor">#</a> 2. 多表查询分类讲解</h2> <h3 id="分类-1-等值连接-vs-非等值连接"><a href="#分类-1-等值连接-vs-非等值连接" class="header-anchor">#</a> 分类 1：等值连接 vs 非等值连接</h3> <h4 id="等值连接"><a href="#等值连接" class="header-anchor">#</a> 等值连接</h4> <p><img src="/assets/img/1554975496900.96df4399.webp" alt="1554975496900"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> 
       employees<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>
       departments<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/assets/img/1554975522600.a84be094.webp" alt="1554975522600"></p> <p><img src="data:image/webp;base64,UklGRiIDAABXRUJQVlA4IBYDAADQFQCdASr3AiAAPpFIoUwlpKMiIbZoyLASCWlu4XVBskuipey/IrY9fg+EH3E5LP0f34Dj/9V0jHCteIeov/Rf8B9m/yT/6Hlu+lf+H6uQUpEoN/QWV6dmVz0F/aanS14THlDDhfaw1oUZP/UWKYEgJASAkBICQEgJASAkBICQDBxt5ON33YnEn/iqD/nB66kDBvbe4nTtZwAAYubbHikYm2buXAQLpZr8sSAkBICQEgJASAkBGAAA/tw0KhyVNCJMSAIA/CgBY6/d6N4+5KRDPVT56eI95lo4KpCQUs/5+G68++gFtk8CDLt6kav/iVH8+NQNvb4dEL3qKRLvz3qUa8GNqDvwCOtzrV9l0CAZYy5Wbqqhgzzp8w+1x1exLUzH6XSB5nEcfijhLFLKHQm1k3gNltRjDUTgQEgkq4YULVPped2fl2he9uY77SHu2ezW00WKgio3/YQpH2fPdyTriKxGyj2t3nX5oUT1Eg3n01AmXkVt/igt7L4Yd3OSVi0/2hYeBQC52YYlnuPUKqDgpu6SoTSsmzjhnYhlBwtoGvGaHT9Zvzm5dwMVw0kDAHEMUOVqJzfVGdskt/gmpj/tVqtsQFXRLstReWiaS1151suf16I9FumwzdCxuMXxHwL/Sy2BdpmflW7ihdjhO1MPuoYRQYnNDuo25nM2CwGTtbWhTJjtt7iGwdOWf8R1F0gyitNI/vIaHRd/2+FLOC0IJT4yrkM7QkCNM038d6EExjrJipek3zBSv/2QysuELxYzhPZo4qzKMIc+Sjkvzx3GS3NNbiffcT9F2/Z+QCsN83q25flxk71vCi0wCOZi3afMpvDzq5gejIVj//hRt9L8l6n+XNCQT0PuVsy6rD5Sp2FXFZINN5bEw6lIn3/GoiTERRXOgfk1noRkzL3KNUVA0rXjBvrm31xdTwgviiaYn3UNDTrVCmv7uxPz9yMkVH/UDWnp+Ie+pD+IBxn/Poa/vavgvz0zrCz7EthNQQq2QO4o3bpyDaQfdaHEqRJYWXThRmxxq/BjHdayujxB9C3iJsAAAAAA" alt="1554975526339"></p> <p><strong>拓展 1：多个连接条件与 AND 操作符</strong></p> <p><img src="/assets/img/1554975606231.1db38725.webp" alt="1554975606231"></p> <p><strong>拓展 2：区分重复的列名</strong></p> <ul><li><strong>多个表中有相同列时，必须在列名之前加上表名前缀。</strong></li> <li>在不同表中具有相同列名的列可以用<code>表名</code>加以区分。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span> departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>拓展 3：表的别名</strong></p> <ul><li><p>使用别名可以简化查询。</p></li> <li><p>列名前使用表名前缀可以提高查询效率。</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>
       d<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span> employees e <span class="token punctuation">,</span> departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>需要注意的是，如果我们使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替，不能使用原有的表名，否则就会报错。</p></blockquote> <blockquote><p><code>阿里开发规范</code>：</p> <p>【<code>强制</code>】对于数据库中表记录的查询和变更，只要涉及多个表，都需要在列名前加表的别名（或 表名）进行限定。</p> <p><code>说明</code>：对多表进行查询记录、更新记录、删除记录时，如果对操作列没有限定表的别名（或表名），并且操作列在多个表中存在时，就会抛异常。</p> <p><code>正例</code>：select t1.name from table_first as t1 , table_second as t2 where t1.id=t2.id;</p> <p><code>反例</code>：在某业务中，由于多表关联查询语句没有加表的别名（或表名）的限制，正常运行两年后，最近在 某个表中增加一个同名字段，在预发布环境做数据库变更后，线上查询语句出现出 1052 异常：Column  'name' in field list is ambiguous。</p></blockquote> <p><strong>拓展 4：连接多个表</strong></p> <p><img src="/assets/img/1554978354431.1036dfa5.webp" alt="1554978354431"></p> <p><strong>总结：连接 n 个表,至少需要 n-1 个连接条件</strong>。比如，连接三个表，至少需要两个连接条件。</p> <p>练习：查询出公司员工的 last_name,department_name, city</p> <h4 id="非等值连接"><a href="#非等值连接" class="header-anchor">#</a> 非等值连接</h4> <p><img src="/assets/img/1554978442447.18bc7ccc.webp" alt="1554978442447"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span> j<span class="token punctuation">.</span>grade_level
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span> job_grades j
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>salary <span class="token operator">BETWEEN</span> j<span class="token punctuation">.</span>lowest_sal <span class="token operator">AND</span> j<span class="token punctuation">.</span>highest_sal<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/1554978477013.7611b629.webp" alt="1554978477013"></p> <p><img src="data:image/webp;base64,UklGRqQCAABXRUJQVlA4IJgCAADwFACdASr1AhYAPpFInEwlpKKiInSYiLASCWlu4XXxj7f2bwB7u3l4/s+78IMoJkA8Gf+V7+/+OuLv+3/mfuafuH/G8lPzN/0f7x8An8w/qHVw/Y72M/1mBfqzVhUr7ueo/Q52UoKKUMNIyp7criFcmUW3Q0R/gKCl9zCTyaZy0RhcsSAIPWBZQNQBB6wLKBqAIPWBZPg54l2POR2dQBB6wLKBqAIPWBZQNQBB6wLIwAD++6ND48pJBhy5owyPQbCa/AmsU46UwDEzgqKASuwl6quV8JyhSqS6+SXcWQljVKxzZYf23gqB1ouXQtMONR1MGGVCm5JwGuFwux3Lz3czv6S8Vyr+8y9oZQZS1l3XcH94JGiCuNLTXM1H8huhkgY+TIm8z1boDgDBt/lLoP5mN1F0QfO/7/qpS1uBxi/Pzpbthbyr6G1ThuGKGP2y14OS0Rt26Updgt2To5unYFBDJl+6z2EyR5iEE+KKhSQbSn3Tfx9kAbpqOvWKJJf1fcUtYr2v5zGd3BxuIXNs/niCPAfMRWkmXRemhBKSCmXB+jc2Xg1xe5asNC3Vo2rGNEC8P147IR27LNNNv640fTS+WGkYLu56RPdz0+8yiTzhKViN4B0zr6Kwd8Ooh+hpYrn9at9Gt76Y77vl8x+dO3e+I8DR7p4tX69k8YI7nc+99LaQuKL/F6N7yN4clriAB8nyWkGODvPjPDMqtjHmwmiB459Z1FappFkKS5NpS+7PAn8JHQr1EuUfnJKL0NGBaxr61JHWhm+cVAkgtnlh1bl9IF3db3hkyvBPTGfci6WUwRhmy96wJYM9531fzeVGzxyVtoH+iX9Ez7FvqbRaxVA+fvrvVsTO8Qh9rp0M9/QC5/dwAAAAAAAA" alt="1554978482652"></p> <h3 id="分类-2-自连接-vs-非自连接"><a href="#分类-2-自连接-vs-非自连接" class="header-anchor">#</a> 分类 2：自连接 vs 非自连接</h3> <p><img src="/assets/img/1554978514321.24e44379.webp" alt="1554978514321"></p> <ul><li>当 table1 和 table2 本质上是同一张表，只是用取别名的方式虚拟成两张表以代表不同的意义。然后两个表再进行内连接，外连接等查询。</li></ul> <p><strong>题目：查询 employees 表，返回“Xxx  works for Xxx”</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>worker<span class="token punctuation">.</span>last_name <span class="token punctuation">,</span><span class="token string">' works for '</span> 
       <span class="token punctuation">,</span> manager<span class="token punctuation">.</span>last_name<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees worker<span class="token punctuation">,</span> employees manager
<span class="token keyword">WHERE</span> worker<span class="token punctuation">.</span>manager_id <span class="token operator">=</span> manager<span class="token punctuation">.</span>employee_id <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/assets/img/1554978684947.d60772ce.webp" alt="1554978684947"></p> <p><img src="data:image/webp;base64,UklGRowCAABXRUJQVlA4IIACAABQEwCdASoaAxQAPpFIo0wlpKOiIbZoqLASCWlu4XPhYgdlJAB3Pv9J3sUgn5QcQb/O/+J/Q/cu/fP915F/mD/j+4L/L/6n/uvWA9VP6oeyB+qoCereptXYPiarIeLut0eSnpeMXhWxTiRenXjEuPxXSoHID7/pW+PLdDSRwo9K3x5boaSOEbeTfG3m205fkNHpW+PLdDSRwo9K3x5boaSOFHnoAP77o2MzhBvyxdbGaVlzapzT3QHBguHtBDkFC69WVLL7r+Tddm/ml/R2lvWD/Ee7PIBkH7idl0T0///HSQ57NORl9cogYdi1EX3i5YT6Ct+f4el8+R070e4/wjqMZh+XllE9GZ3ZzCLP+TKANZZK+gZjfYhXDbNY7rsX3N0Js2FOmY9b/2ROWVktohHxYFEte385m0uuxuxpLJqWs3miCzVnCguo70ziq39go5Q7IK3g51zC3eMGAsEnVJG+TbyetHKpQ5JFeYpu46jW7y2Ig5Cn+9Gncc4sHZl9llMjhb8VZZI82VpboY1Qf6yOvY/+8qR/6n0grwd981PLWcR9huAM83DLfyrwogYPYg+Af1/lgLRBD2us/+Sj7bOFR3Z2aZAq3b+JHO6ZxNlgwNolt+Hhvkab6nD+vTmmeF41pd+GYfj7os4S2Hqy/+vpd31dvHw7fKSfoZLlE4sox6l6YiqSK1bpYB+a/GlQg/mcPVk8EDpWwWb/lxjMVvQwK49DH6onHszw0wbP71qMPr5cH/14ysiTTTtyLc3pYxsE5pCs1dHmsRQbBzeP0Yxcc0FbxgMzSNXnO6GIjB9YTiWkvnQNJwBs/x83j2unGingODT3hD5ZWp0UDegAAAAA" alt="1554978690764"></p> <p>练习：查询出 last_name 为 ‘Chen’ 的员工的 manager 的信息。</p> <h3 id="分类-3-内连接-vs-外连接"><a href="#分类-3-内连接-vs-外连接" class="header-anchor">#</a> 分类 3：内连接 vs 外连接</h3> <p>除了查询满足条件的记录以外，外连接还可以查询某一方不满足条件的记录。</p> <p><img src="/assets/img/1554978955659.c817ecda.webp" alt="1554978955659"></p> <ul><li><p>内连接: 合并具有同一列的两个以上的表的行, <strong>结果集中不包含一个表与另一个表不匹配的行</strong></p></li> <li><p>外连接: 两个表在连接过程中除了返回满足连接条件的行以外<strong>还返回左（或右）表中不满足条件的行</strong> <strong>，这种连接称为左（或右） 外连接</strong>。没有匹配的行时, 结果表中相应的列为空(NULL)。</p> <ul><li>如果是左外连接，则连接条件中左边的表也称为<code>主表</code>，右边的表称为<code>从表</code>。</li> <li>如果是右外连接，则连接条件中右边的表也称为<code>主表</code>，左边的表称为<code>从表</code>。</li></ul></li></ul> <h4 id="sql92-使用-创建连接"><a href="#sql92-使用-创建连接" class="header-anchor">#</a> SQL92：使用(+)创建连接</h4> <ul><li><p>在 SQL92 中采用(+)代表从表所在的位置。即左或右外连接中，(+) 表示哪个是从表。</p></li> <li><p>Oracle 对 SQL92 支持较好，而 MySQL 则不支持 SQL92 的外连接。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#左外连接</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#右外连接</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>而且在 SQL92 中，只有左外连接和右外连接，没有满（或全）外连接。</p></li></ul> <h2 id="_3-sql99-语法实现多表查询"><a href="#_3-sql99-语法实现多表查询" class="header-anchor">#</a> 3. SQL99 语法实现多表查询</h2> <h3 id="_3-1-基本语法"><a href="#_3-1-基本语法" class="header-anchor">#</a> 3.1 基本语法</h3> <ul><li><p>使用 JOIN...ON 子句创建连接的语法结构：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> table1<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span> table2<span class="token punctuation">.</span><span class="token keyword">column</span><span class="token punctuation">,</span>table3<span class="token punctuation">.</span><span class="token keyword">column</span>
<span class="token keyword">FROM</span> table1
    <span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> table1 和 table2 的连接条件
        <span class="token keyword">JOIN</span> table3 <span class="token keyword">ON</span> table2 和 table3 的连接条件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>它的嵌套逻辑类似我们使用的 FOR 循环：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">for</span> t1 <span class="token operator">in</span> table1:
    <span class="token keyword">for</span> t2 <span class="token operator">in</span> table2:
       <span class="token keyword">if</span> condition1:
           <span class="token keyword">for</span> t3 <span class="token operator">in</span> table3:
              <span class="token keyword">if</span> condition2:
                  output t1 <span class="token operator">+</span> t2 <span class="token operator">+</span> t3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>SQL99 采用的这种嵌套结构非常清爽、层次性更强、可读性更强，即使再多的表进行连接也都清晰可见。如果你采用 SQL92，可读性就会大打折扣。</p></li> <li><p>语法说明：</p> <ul><li><strong>可以使用</strong> <strong>ON</strong> <strong>子句指定额外的连接条件</strong>。</li> <li>这个连接条件是与其它条件分开的。</li> <li><strong>ON</strong> <strong>子句使语句具有更高的易读性</strong>。</li> <li>关键字 JOIN、INNER JOIN、CROSS JOIN 的含义是一样的，都表示内连接。</li></ul></li></ul> <h3 id="_3-2-内连接-inner-join-的实现"><a href="#_3-2-内连接-inner-join-的实现" class="header-anchor">#</a> 3.2 内连接(INNER JOIN)的实现</h3> <ul><li>语法：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>题目 1：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> 
       d<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/assets/img/1554979073996.ce85d56c.webp" alt="1554979073996"></p> <p><img src="data:image/webp;base64,UklGRooCAABXRUJQVlA4IH4CAAAQFACdASryAhcAPpFIokwlpCOiIxcYeLASCWlu4XVBxx/QCxpzYXxecgxk3+f0aDj0YwPUv/e/+N5IPob/ue4T/LP6l/vuvd6QAE3Y8tc8hKi0SvDSUd4xdvcUWffkeXXLkkfyJ1cqXm5nM2QvxjcW/nEgJASAkBICQEgJASAkBICQEZdaj9dybaGIIakn3RLv0/i1r+AgXZuzdm7N2bs3Zuzdm7N2bpAAAP74mRd29A2JJoRpcPEsy72mqb8h2/hWKfrhznXw7TFc6Had9lD0uG5yaaL/1VfgKjVm5TM9NQH8DxrBimQnzwXr9PC1NNL+3xF/vfUf8nKsR5CSnuHwU2dRpP5xx9/xY3/ESRJ6E7gimyCllZ/0u1zjEv02BNeP5VATIlchotyuV8Vyk77wGduBh8e+fYa7x8coCrt9H+H0Epsy9aMjXTH7wAtXSzB+EHFqhN2l95m7v360LCx6oy06S/FIFPkv3ugQJn27cu7qJ/snpcMdGkD8elO46Ecz4Xwio6TqH9KmDW3diD8Y19A34gpK9j+4G2Qgqwi32BqLdQT85dy896wy8O/xSOtdeNNbo+9+LLuQCufq5HKrT13PrvBZ+tNSt35JRMvOOMP6rf8ySFDb94NrNxdYmHsrpA3xVKzxgagde9Vg/gWmIiFKKgsvcEuUuvIborOvedVJovrmA2KBq3wvekIibWGKMfor44sSfIqrV8CbLTVSGqIz02cnO5kxvZvlZRZ+AO+3WF/UUk1XO++8KROWMNd8tHssnyP2ONy/qE26ZMPfnfgVlWWnP8CuuDv+oe1fT8C95HYAABEQOyQR5/gXjooFbq2HvUP5OokAAAAAAA==" alt="1554979079395"></p> <p>题目 2：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span> city<span class="token punctuation">,</span> department_name
<span class="token keyword">FROM</span> employees e 
<span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> d<span class="token punctuation">.</span>department_id <span class="token operator">=</span> e<span class="token punctuation">.</span>department_id 
<span class="token keyword">JOIN</span> locations l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span>location_id <span class="token operator">=</span> l<span class="token punctuation">.</span>location_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="/assets/img/1554979110008.6a311cec.webp" alt="1554979110008"></p> <p><img src="data:image/webp;base64,UklGRooCAABXRUJQVlA4IH4CAACQFACdASrxAhcAPpFIo0ulpKOhorgIiLASCWlu4XMxxz/QDSdmJX5fOUboTJn4JbUFjP9T79j/3vk1+fvYH/lX9T/5H9p7T3oq/rWBQWPLXQpWzzhmDPMy7NB6ZhTSq+smViIs+DRCBnfo0UZ7wSV2xXU/2zPvDrHWOsdY6x1jrHWOsdY6tAdvZic7hXJZp9L5+ISA26QD8xr7bsz7w6x1jrHWOsdY6x1jrHVgAAD++cSfm0Xie9AyMu3Bzg0BjvjKfE/+FTkP2xk2YpG/uoqXeP6GjQZYaOdnL+uG1G6Xr4NN2eucqTw7AwFvdP2t1YMWr2sBeyH9yDuLd+d6i/pIBstoTVKdsM9Kg+Mqugk37aJTXX9/KdcXBw5GJwCmwzKkn8b9lTB5hiKJdvT9Mz3tvzpxzQF28BN+f+YSwP30W6Tmp50RbwKbf29bWt/PR9wdpGwHWJGAdD6XtD01361RmZ5SGVzAP+KLvBJPxdSNlINKm0AiHe2BG9jupSYfgj5D/tzYZ+2UlJ3+cGYFlCN4bdOAn6FbflAx+3Dx/cljOZY0Mw8tUP5DK0pc3ZhMnXH+GuSo83iqVnc2f780nRddxiW+I5r+vE1eV5loB4x+9gwhMROtIesCzL1svEdT4180hMDtDK78Yufo95K1IJcmS5KS8rVJhPYwddQkrWQ52u+gwmL6eY/IXelO0KOTetDc51nkqn/HO8gPqlf4j5h7lYXUZTJ8SI7pXz/Q7lpOe8vif9wcnVunmA6fQP5eKh/g13LKUldsUU/vm09l2XduWlEFJIOamI/+zueUbh6FliFlonJIQmI4AAAgSyzxpNDZsZkEJooNEqmMAAAAAA==" alt="1554979115642"></p> <h3 id="_3-3-外连接-outer-join-的实现"><a href="#_3-3-外连接-outer-join-的实现" class="header-anchor">#</a> 3.3 外连接(OUTER JOIN)的实现</h3> <h4 id="_3-3-1-左外连接-left-outer-join"><a href="#_3-3-1-左外连接-left-outer-join" class="header-anchor">#</a> 3.3.1 左外连接(LEFT OUTER JOIN)</h4> <ul><li>语法：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现查询结果是A</span>
<span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>举例：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees e
<span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/assets/img/1554979200961.c4f60e01.webp" alt="1554979200961"></p> <h4 id="_3-3-2-右外连接-right-outer-join"><a href="#_3-3-2-右外连接-right-outer-join" class="header-anchor">#</a> 3.3.2 右外连接(RIGHT OUTER JOIN)</h4> <ul><li>语法：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现查询结果是B</span>
<span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> A表 <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> B表
<span class="token keyword">ON</span> 关联条件
<span class="token keyword">WHERE</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>举例：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees e
<span class="token keyword">RIGHT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/webp;base64,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" alt="1554979243194"></p> <blockquote><p>需要注意的是，LEFT JOIN 和 RIGHT JOIN 只存在于 SQL99 及以后的标准中，在 SQL92 中不存在，只能用 (+) 表示。</p></blockquote> <h4 id="_3-3-3-满外连接-full-outer-join"><a href="#_3-3-3-满外连接-full-outer-join" class="header-anchor">#</a> 3.3.3 满外连接(FULL OUTER JOIN)</h4> <ul><li>满外连接的结果 = 左右表匹配的数据 + 左表没有匹配到的数据 + 右表没有匹配到的数据。</li> <li>SQL99 是支持满外连接的。使用 FULL JOIN 或 FULL OUTER JOIN 来实现。</li> <li>需要注意的是，MySQL 不支持 FULL JOIN，但是可以用 <code>LEFT JOIN UNION RIGHT JOIN</code> 代替。</li></ul> <h2 id="_4-union-的使用"><a href="#_4-union-的使用" class="header-anchor">#</a> 4. UNION 的使用</h2> <p><strong>合并查询结果</strong>
利用 UNION 关键字，可以给出多条 SELECT 语句，并将它们的结果组合成单个结果集。合并时，两个表对应的列数和数据类型必须相同，并且相互对应。各个 SELECT 语句之间使用 UNION 或 UNION ALL 关键字分隔。</p> <p>语法格式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table1
<span class="token keyword">UNION</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span><span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>UNION 操作符</strong></p> <p><img src="data:image/webp;base64,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" alt="1554979317187"></p> <p>UNION 操作符返回两个查询的结果集的并集，去除重复记录。</p> <p><strong>UNION ALL 操作符</strong></p> <p><img src="data:image/webp;base64,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" alt="1554979343634"></p> <p>UNION ALL 操作符返回两个查询的结果集的并集。对于两个结果集的重复部分，不去重。</p> <blockquote><p>注意：执行 UNION ALL 语句时所需要的资源比 UNION 语句少。如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，则尽量使用 UNION ALL 语句，以提高数据查询的效率。</p></blockquote> <p>举例：查询部门编号&gt;90 或邮箱包含 a 的员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#方式1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">'%a%'</span> <span class="token operator">OR</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#方式2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees  <span class="token keyword">WHERE</span> email <span class="token operator">LIKE</span> <span class="token string">'%a%'</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees  <span class="token keyword">WHERE</span> department_id<span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>举例：查询中国用户中男性的信息以及美国用户中年男性的用户信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>cname <span class="token keyword">FROM</span> t_chinamale <span class="token keyword">WHERE</span> csex<span class="token operator">=</span><span class="token string">'男'</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>tname <span class="token keyword">FROM</span> t_usmale <span class="token keyword">WHERE</span> tGender<span class="token operator">=</span><span class="token string">'male'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_5-7-种-sql-joins-的实现"><a href="#_5-7-种-sql-joins-的实现" class="header-anchor">#</a> 5. 7 种 SQL JOINS 的实现</h2> <p><img src="/assets/img/1554979255233.4e96266b.webp" alt="1554979255233"></p> <h3 id="_5-7-1-代码实现"><a href="#_5-7-1-代码实现" class="header-anchor">#</a> 5.7.1 代码实现</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#中图：内连接 A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#左上图：左外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#右上图：右外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#左中图：A - A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#右中图：B-A∩B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#左下图：满外连接</span>
<span class="token comment"># 左中图 + 右上图  A∪B</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>  <span class="token comment">#没有去重操作，效率高</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#右下图</span>
<span class="token comment">#左中图 + 右中图  A ∪B- A∩B 或者 (A -  A∩B) ∪ (B - A∩B)</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5-7-2-语法格式小结"><a href="#_5-7-2-语法格式小结" class="header-anchor">#</a> 5.7.2 语法格式小结</h3> <ul><li>左中图</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现A -  A∩B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>右中图</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现B -  A∩B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>左下图</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现查询结果是A∪B</span>
<span class="token comment">#用左外的A，union 右外的B</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 等其他子句

<span class="token keyword">union</span> 

<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 等其他子句<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>右下图</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#实现A∪B -  A∩B  或   (A -  A∩B) ∪ (B - A∩B)</span>
<span class="token comment">#使用左外的 (A -  A∩B)  union 右外的(B - A∩B)</span>
<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">left</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句

<span class="token keyword">union</span>

<span class="token keyword">select</span> 字段列表
<span class="token keyword">from</span> A表 <span class="token keyword">right</span> <span class="token keyword">join</span> B表
<span class="token keyword">on</span> 关联条件
<span class="token keyword">where</span> 从表关联字段 <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">and</span> 等其他子句
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_6-sql99-语法新特性"><a href="#_6-sql99-语法新特性" class="header-anchor">#</a> 6. SQL99 语法新特性</h2> <h3 id="_6-1-自然连接"><a href="#_6-1-自然连接" class="header-anchor">#</a> 6.1 自然连接</h3> <p>SQL99 在 SQL92 的基础上提供了一些特殊语法，比如 <code>NATURAL JOIN</code> 用来表示自然连接。我们可以把自然连接理解为 SQL92 中的等值连接。它会帮你自动查询两张连接表中<code>所有相同的字段</code>，然后进行<code>等值连接</code>。</p> <p>在 SQL92 标准中：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token operator">AND</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在 SQL99 中你可以写成：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> departments d<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_6-2-using-连接"><a href="#_6-2-using-连接" class="header-anchor">#</a> 6.2 USING 连接</h3> <p>当我们进行连接的时候，SQL99 还支持使用 USING 指定数据表里的<code>同名字段</code>进行等值连接。但是只能配合 JOIN 一起使用。比如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">USING</span> <span class="token punctuation">(</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>你能看出与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，你需要在 USING 的括号 () 中填入要指定的同名字段。同时使用 <code>JOIN...USING</code> 可以简化 JOIN ON 的等值连接。它与下面的 SQL 查询结果是相同的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token punctuation">,</span>departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_7-章节小结"><a href="#_7-章节小结" class="header-anchor">#</a> 7. 章节小结</h2> <p>表连接的约束条件可以有三种方式：WHERE, ON, USING</p> <ul><li><p>WHERE：适用于所有关联查询</p></li> <li><p><code>ON</code>：只能和 JOIN 一起使用，只能写关联条件。虽然关联条件可以并到 WHERE 中和其他条件一起写，但分开写可读性更好。</p></li> <li><p>USING：只能和 JOIN 一起使用，而且要求<strong>两个</strong>关联字段在关联表中名称一致，而且只能表示关联字段值相等。</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#关联条件</span>
<span class="token comment">#把关联条件写在where后面</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name 
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments 
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#把关联条件写在on后面，只能和JOIN一起使用</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name 
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments 
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name 
<span class="token keyword">FROM</span> employees <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> departments 
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name  
<span class="token keyword">FROM</span> employees <span class="token keyword">JOIN</span> departments 
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#把关联字段写在using()中，只能和JOIN一起使用</span>
<span class="token comment">#而且两个表中的关联字段必须名称相同，而且只能表示=</span>
<span class="token comment">#查询员工姓名与基本工资</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs <span class="token keyword">USING</span><span class="token punctuation">(</span>job_id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#n张表关联，需要n-1个关联条件</span>
<span class="token comment">#查询员工姓名，基本工资，部门名称</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title<span class="token punctuation">,</span>department_name <span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">,</span>jobs 
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title<span class="token punctuation">,</span>department_name 
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs 
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><strong>注意：</strong></p> <p>我们要<code>控制连接表的数量</code>。多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下降得很严重，因此不要连接不必要的表。在许多 DBMS 中，也都会有最大连接表的限制。</p> <blockquote><p>【强制】超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致；多表关联查询时， 保证被关联的字段需要有索引。</p> <p>说明：即使双表 join 也要注意表索引、SQL 性能。</p> <p>来源：阿里巴巴《Java 开发手册》</p></blockquote> <h2 id="附录-常用的-sql-标准有哪些"><a href="#附录-常用的-sql-标准有哪些" class="header-anchor">#</a> 附录：常用的 SQL 标准有哪些</h2> <p>在正式开始讲连接表的种类时，我们首先需要知道 SQL 存在不同版本的标准规范，因为不同规范下的表连接操作是有区别的。</p> <p>SQL 有两个主要的标准，分别是 <code>SQL92</code> 和 <code>SQL99</code>。92 和 99 代表了标准提出的时间，SQL92 就是 92 年提出的标准规范。当然除了 SQL92 和 SQL99 以外，还存在 SQL-86、SQL-89、SQL:2003、SQL:2008、SQL:2011 和 SQL:2016 等其他的标准。</p> <p>这么多标准，到底该学习哪个呢？<strong>实际上最重要的 SQL 标准就是 SQL92 和 SQL99</strong>。一般来说 SQL92 的形式更简单，但是写的 SQL 语句会比较长，可读性较差。而 SQL99 相比于 SQL92 来说，语法更加复杂，但可读性更强。我们从这两个标准发布的页数也能看出，SQL92 的标准有 500 页，而 SQL99 标准超过了 1000 页。实际上从 SQL99 之后，很少有人能掌握所有内容，因为确实太多了。就好比我们使用 Windows、Linux 和 Office 的时候，很少有人能掌握全部内容一样。我们只需要掌握一些核心的功能，满足日常工作的需求即可。</p> <p><strong>SQL92 和 SQL99 是经典的 SQL 标准，也分别叫做 SQL-2 和 SQL-3 标准</strong>。也正是在这两个标准发布之后，SQL 影响力越来越大，甚至超越了数据库领域。现如今 SQL 已经不仅仅是数据库领域的主流语言，还是信息领域中信息处理的主流语言。在图形检索、图像检索以及语音检索中都能看到 SQL 语言的使用。</p> <h2 id="课堂笔记-sql"><a href="#课堂笔记-sql" class="header-anchor">#</a> 课堂笔记 SQL</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 第06章_多表查询</span>

<span class="token comment">/*
SELECT ...,....,....
FROM ....
WHERE .... AND / OR / NOT....
ORDER BY .... (ASC/DESC),....,...
LIMIT ...,...

*/</span>
<span class="token comment">#1. 熟悉常见的几个表</span>
<span class="token keyword">DESC</span> employees<span class="token punctuation">;</span>

<span class="token keyword">DESC</span> departments<span class="token punctuation">;</span>

<span class="token keyword">DESC</span> locations<span class="token punctuation">;</span>

<span class="token comment">#查询员工名为'Abel'的人在哪个城市工作？</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> 
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">'Abel'</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> departments
<span class="token keyword">WHERE</span> department_id <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>


<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> locations 
<span class="token keyword">WHERE</span> location_id <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span>

<span class="token comment">#2. 出现笛卡尔积的错误</span>
<span class="token comment">#错误的原因：缺少了多表的连接条件</span>

<span class="token comment">#错误的实现方式：每个员工都与每个部门匹配了一遍。</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments<span class="token punctuation">;</span>  <span class="token comment">#查询出2889条记录</span>

<span class="token comment">#错误的方式</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees <span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> departments<span class="token punctuation">;</span><span class="token comment">#查询出2889条记录</span>


<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>  <span class="token comment">#107条记录</span>

<span class="token keyword">SELECT</span> <span class="token number">2889</span> <span class="token operator">/</span> <span class="token number">107</span>
<span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> departments<span class="token punctuation">;</span> <span class="token comment"># 27条记录</span>


<span class="token comment">#3. 多表查询的正确方式：需要有连接条件</span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments
<span class="token comment">#两个表的连接条件</span>
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#4. 如果查询语句中出现了多个表中都存在的字段，则必须指明此字段所在的表。</span>
<span class="token keyword">SELECT</span> employees<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>employees<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees<span class="token punctuation">,</span>departments
<span class="token keyword">WHERE</span> employees<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#建议：从sql优化的角度，建议多表查询时，每个字段前都指明其所在的表。</span>

<span class="token comment">#5. 可以给表起别名，在SELECT和WHERE中使用表的别名。</span>
<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees emp<span class="token punctuation">,</span>departments dept
<span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> dept<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token comment">#如果给表起了别名，一旦在SELECT或WHERE中使用表名的话，则必须使用表的别名，而不能再使用表的原名。</span>
<span class="token comment">#如下的操作是错误的：</span>
<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>departments<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees emp<span class="token punctuation">,</span>departments dept
<span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>


<span class="token comment">#6. 结论：如果有n个表实现多表的查询，则需要至少n-1个连接条件</span>
<span class="token comment">#练习：查询员工的employee_id,last_name,department_name,city</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>l<span class="token punctuation">.</span>city<span class="token punctuation">,</span>e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>l<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>departments d<span class="token punctuation">,</span>locations l
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token operator">AND</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">/*
演绎式：提出问题1 ---&gt; 解决问题1 ----&gt; 提出问题2 ---&gt; 解决问题2 ....

归纳式：总--分

*/</span>
<span class="token comment">#7. 多表查询的分类</span>
<span class="token comment">/*

角度1：等值连接  vs  非等值连接

角度2：自连接  vs  非自连接

角度3：内连接  vs  外连接


*/</span>

<span class="token comment"># 7.1 等值连接  vs  非等值连接</span>

<span class="token comment">#非等值连接的例子：</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> job_grades<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">,</span>j<span class="token punctuation">.</span>grade_level
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>job_grades j
<span class="token comment">#where e.`salary` between j.`lowest_sal` and j.`highest_sal`;</span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token operator">&gt;=</span> j<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>lowest_sal<span class="token punctuation">`</span></span> <span class="token operator">AND</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token operator">&lt;=</span> j<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>highest_sal<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">#7.2 自连接  vs  非自连接</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">#自连接的例子：</span>
<span class="token comment">#练习：查询员工id,员工姓名及其管理者的id和姓名</span>

<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>mgr<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>mgr<span class="token punctuation">.</span>last_name
<span class="token keyword">FROM</span> employees emp <span class="token punctuation">,</span>employees mgr
<span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> mgr<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>


<span class="token comment">#7.3 内连接  vs  外连接</span>

<span class="token comment"># 内连接：合并具有同一列的两个以上的表的行, 结果集中不包含一个表与另一个表不匹配的行</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>  <span class="token comment">#只有106条记录</span>

<span class="token comment"># 外连接：合并具有同一列的两个以上的表的行, 结果集中除了包含一个表与另一个表匹配的行之外，</span>
<span class="token comment">#         还查询到了左表 或 右表中不匹配的行。</span>

<span class="token comment"># 外连接的分类：左外连接、右外连接、满外连接</span>

<span class="token comment"># 左外连接：两个表在连接过程中除了返回满足连接条件的行以外还返回左表中不满足条件的行，这种连接称为左外连接。</span>
<span class="token comment"># 右外连接：两个表在连接过程中除了返回满足连接条件的行以外还返回右表中不满足条件的行，这种连接称为右外连接。</span>

<span class="token comment">#练习：查询所有的员工的last_name,department_name信息 </span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>   <span class="token comment"># 需要使用左外连接</span>

<span class="token comment">#SQL92语法实现内连接：见上，略</span>
<span class="token comment">#SQL92语法实现外连接：使用 +  ----------MySQL不支持SQL92语法中外连接的写法！</span>
<span class="token comment">#不支持：</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>departments d
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#SQL99语法中使用 JOIN ...ON 的方式实现多表的查询。这种方式也能解决外连接的问题。MySQL是支持此种方式的。</span>
<span class="token comment">#SQL99语法如何实现多表的查询。</span>

<span class="token comment">#SQL99语法实现内连接：</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name<span class="token punctuation">,</span>city
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">JOIN</span> locations l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">#SQL99语法实现外连接：</span>

<span class="token comment">#练习：查询所有的员工的last_name,department_name信息 </span>
<span class="token comment"># 左外连接：</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">#右外连接：</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>


<span class="token comment">#满外连接：mysql不支持FULL OUTER JOIN</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">FULL</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">#8. UNION 和 UNION ALL的使用</span>
<span class="token comment"># UNION：会执行去重操作</span>
<span class="token comment"># UNION ALL:不会执行去重操作</span>
<span class="token comment">#结论：如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，</span>
<span class="token comment">#则尽量使用UNION ALL语句，以提高数据查询的效率。</span>

<span class="token comment">#9. 7种JOIN的实现：</span>

<span class="token comment"># 中图：内连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># 左上图：左外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># 右上图：右外连接</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># 左中图：</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment"># 右中图：</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>


<span class="token comment"># 左下图：满外连接</span>
<span class="token comment"># 方式1：左上图 UNION ALL 右中图</span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>


<span class="token comment"># 方式2：左中图 UNION ALL 右上图</span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># 右下图：左中图  UNION ALL 右中图</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">#10. SQL99语法的新特性1:自然连接</span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token operator">AND</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>manager_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># NATURAL JOIN : 它会帮你自动查询两张连接表中`所有相同的字段`，然后进行`等值连接`。</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">NATURAL</span> <span class="token keyword">JOIN</span> departments d<span class="token punctuation">;</span>


<span class="token comment">#11. SQL99语法的新特性2:USING</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">USING</span> <span class="token punctuation">(</span>department_id<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">#拓展：</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>job_title<span class="token punctuation">,</span>department_name 
<span class="token keyword">FROM</span> employees <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departments <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> jobs 
<span class="token keyword">ON</span> employees<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>department_id 
<span class="token operator">AND</span> employees<span class="token punctuation">.</span>job_id <span class="token operator">=</span> jobs<span class="token punctuation">.</span>job_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br></div></div><h2 id="课后练习-sql"><a href="#课后练习-sql" class="header-anchor">#</a> 课后练习 SQL</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>
<span class="token comment"># 第06章_多表查询的课后练习</span>

<span class="token comment"># 1.显示所有员工的姓名，部门号和部门名称。</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>department_id<span class="token punctuation">,</span>d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment"># 2.查询90号部门员工的job_id和90号部门的location_id</span>

<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>d<span class="token punctuation">.</span>location_id
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>


<span class="token keyword">DESC</span> departments<span class="token punctuation">;</span>

<span class="token comment"># 3.选择所有有奖金的员工的 last_name , department_name , location_id , city</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name <span class="token punctuation">,</span>e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>commission_pct<span class="token punctuation">`</span></span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name <span class="token punctuation">,</span> d<span class="token punctuation">.</span>location_id <span class="token punctuation">,</span> l<span class="token punctuation">.</span>city
<span class="token keyword">FROM</span> employees e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> locations l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>commission_pct<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> <span class="token comment">#也应该是35条记录</span>


<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> <span class="token comment">#35条记录</span>


<span class="token comment"># 4.选择city在Toronto工作的员工的 last_name , job_id , department_id , department_name </span>

<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name <span class="token punctuation">,</span> e<span class="token punctuation">.</span>job_id <span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id <span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">JOIN</span> locations l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>city<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'Toronto'</span><span class="token punctuation">;</span>

<span class="token comment">#sql92语法：</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>last_name <span class="token punctuation">,</span> e<span class="token punctuation">.</span>job_id <span class="token punctuation">,</span> e<span class="token punctuation">.</span>department_id <span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> employees e<span class="token punctuation">,</span>departments d <span class="token punctuation">,</span>locations l
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> 
<span class="token operator">AND</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span>
<span class="token operator">AND</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>city<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'Toronto'</span><span class="token punctuation">;</span>


<span class="token comment"># 5.查询员工所在的部门名称、部门地址、姓名、工作、工资，其中员工所在部门的部门名称为’Executive’</span>

<span class="token keyword">SELECT</span> d<span class="token punctuation">.</span>department_name<span class="token punctuation">,</span>l<span class="token punctuation">.</span>street_address<span class="token punctuation">,</span>e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>job_id<span class="token punctuation">,</span>e<span class="token punctuation">.</span>salary
<span class="token keyword">FROM</span> departments d <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees e
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> locations l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'Executive'</span><span class="token punctuation">;</span>


<span class="token keyword">DESC</span> departments<span class="token punctuation">;</span>

<span class="token keyword">DESC</span> locations<span class="token punctuation">;</span>

<span class="token comment"># 6.选择指定员工的姓名，员工号，以及他的管理者的姓名和员工号，结果类似于下面的格式</span>
employees	Emp<span class="token comment">#	manager	Mgr#</span>
kochhar		<span class="token number">101</span>	king	<span class="token number">100</span>

<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>last_name <span class="token string">&quot;employees&quot;</span><span class="token punctuation">,</span>emp<span class="token punctuation">.</span>employee_id <span class="token string">&quot;Emp#&quot;</span><span class="token punctuation">,</span>mgr<span class="token punctuation">.</span>last_name <span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span> mgr<span class="token punctuation">.</span>employee_id <span class="token string">&quot;Mgr#&quot;</span>
<span class="token keyword">FROM</span> employees emp <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees mgr
<span class="token keyword">ON</span> emp<span class="token punctuation">.</span>manager_id <span class="token operator">=</span> mgr<span class="token punctuation">.</span>employee_id<span class="token punctuation">;</span>


<span class="token comment"># 7.查询哪些部门没有员工</span>

<span class="token keyword">SELECT</span> d<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> departments d <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> employees e
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">#本题也可以使用子查询：暂时不讲</span>

<span class="token comment"># 8. 查询哪个城市没有部门 </span>

<span class="token keyword">SELECT</span> l<span class="token punctuation">.</span>location_id<span class="token punctuation">,</span>l<span class="token punctuation">.</span>city
<span class="token keyword">FROM</span> locations l <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> l<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>location_id<span class="token punctuation">`</span></span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> department_id
<span class="token keyword">FROM</span> departments
<span class="token keyword">WHERE</span> department_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1100</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">,</span><span class="token number">1300</span><span class="token punctuation">,</span><span class="token number">1600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment"># 9. 查询部门名为 Sales 或 IT 的员工信息</span>

<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_id<span class="token punctuation">,</span>e<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span>e<span class="token punctuation">.</span>department_id
<span class="token keyword">FROM</span> employees e <span class="token keyword">JOIN</span> departments d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> d<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>department_name<span class="token punctuation">`</span></span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'Sales'</span><span class="token punctuation">,</span><span class="token string">'IT'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/06/12, 00:25:27</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">第05章_排序与分页</div></a> <a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">第07章_单行函数</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-5/" class="prev">第05章_排序与分页</a></span> <span class="next"><a href="/java-basic/mysql-from-beginners-to-advanced/beginners/chapter-7/">第07章_单行函数</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/java-basic/jdbc-core/"><div>
            JDBC 核心技术(JDK21版)
            <!----></div></a> <span class="date">09-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/chapter-0/"><div>
            第00章_写在前面
            <!----></div></a> <span class="date">05-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/java-basic/mysql-from-beginners-to-advanced/advanced/chapter-1/"><div>
            第01章_Linux 下 MySQL 的安装与使用
            <!----></div></a> <span class="date">05-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1214025526@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/coderofmutou" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/ismutou" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2024-2025
    <span>bombax | <a href="https://github.com/coderofmutou/coderofmutou.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ca5c989c.js" defer></script><script src="/assets/js/3.f2884e99.js" defer></script><script src="/assets/js/2.81e8b964.js" defer></script><script src="/assets/js/24.6fe732dc.js" defer></script>
  </body>
</html>
